import{p as _,j as h}from"./styled-components.browser.esm-DrTmyIAt.js";import{r as f}from"./index-CDs2tPxN.js";import{W as be,a as G,T as U}from"./common-CDJ8tmOp.js";import"./tslib.es6-CRos2fHm.js";const ke=_.div.withConfig({displayName:"DatePicker__Separator",componentId:"sc-5ce033a6-0"})(["flex:0 0 auto;"," text-align:center;line-height:56px;"],e=>e.theme.typography["Body/Body 1 Long"]);function Ae({icon:e,...t}){return h.jsx(e,{...t})}const P=_(Ae).withConfig({displayName:"InputIconButton",componentId:"sc-9818fd62-0"})(["width:24px;[data-size='s'] &{width:20px;}& *[fill^='#']{fill:var(--admiral-color-Neutral_Neutral50,",");}[disabled] &&&{pointer-events:none;& *[fill^='#']{fill:var(--admiral-color-Neutral_Neutral30,",");}}&:hover{cursor:pointer;}&:hover *[fill^='#']{fill:var(--admiral-color-Primary_Primary70,",");}"],e=>e.theme.color["Neutral/Neutral 50"],e=>e.theme.color["Neutral/Neutral 30"],e=>e.theme.color["Primary/Primary 70"]),Ce=_.div.withConfig({displayName:"InputBox__FocusBox",componentId:"sc-7d396f12-0"})(["display:inline-flex;overflow:hidden;flex-wrap:nowrap;flex-direction:row;align-items:stretch;height:40px;padding:0;:first-child{padding-inline-start:16px;}:last-child{padding-inline-end:16px;}& *{"," line-height:40px;}&[data-size='xl']{height:56px;& *{line-height:56px;}}&[data-size='s']{height:32px;:first-child{padding-inline-start:12px;}:last-child{padding-inline-end:12px;}& *{"," line-height:32px;}}box-sizing:border-box;border-radius:4px;background:transparent;transform:translate3d(0,0,0);box-shadow:0px 0px 0px 1px "," inset;&:hover:not(:focus-within){box-shadow:0px 0px 0px 1px "," inset;}&:focus-within{box-shadow:0px 0px 0px 2px "," inset;}transition:box-shadow 0.3s ease-in-out;"],e=>e.theme.typography["Body/Body 1 Long"],e=>e.theme.typography["Body/Body 2 Long"],e=>e.theme.color["Neutral/Neutral 40"],e=>e.theme.color["Neutral/Neutral 60"],e=>e.theme.color["Primary/Primary 60 Main"]),L=({...e})=>h.jsx(Ce,{...e}),D=_.input.withConfig({displayName:"InputLine",componentId:"sc-64c1a568-0"})(["border:none;outline:none;appearance:none;background-image:none;background-color:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;text-overflow:ellipsis;padding:0;color:",";::placeholder{color:",";}"],e=>e.theme.color["Neutral/Neutral 90"],e=>e.theme.color["Neutral/Neutral 50"]);function K(e){const{anchorOffset:t=0,focusOffset:s=0}=e.ownerDocument.getSelection()||{},n=Math.min(t,s),o=Math.max(t,s);return[n,o]}function Ie(e,[t,s]){var n,o;const i=e.ownerDocument,r=i.createRange();r.setStart(e.firstChild||e,Math.min(t,((n=e.textContent)===null||n===void 0?void 0:n.length)||0)),r.setEnd(e.lastChild||e,Math.min(s,((o=e.textContent)===null||o===void 0?void 0:o.length)||0));const a=i.getSelection();a&&(a.removeAllRanges(),a.addRange(r))}class Re{constructor(t){this.element=t,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(t){this.element.innerHTML=t.replace(/\n$/,`

`)}get selectionStart(){return K(this.element)[0]}get selectionEnd(){return K(this.element)[1]}setSelectionRange(t,s){Ie(this.element,[t||0,s||0])}}function Oe(e){const t=new Re(e);return new Proxy(e,{get(s,n){if(n in t)return t[n];const o=s[n];return typeof o=="function"?o.bind(s):o},set(s,n,o,i){return Reflect.set(n in t?t:s,n,o,i)}})}const _e=e=>e.isContentEditable?Oe(e):e.querySelector("input,textarea")||e,T={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class Te{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const t=this.past.pop();t&&this.now&&(this.future.push(this.now),this.updateElement(t,"historyUndo"))}redo(){const t=this.future.pop();t&&this.now&&(this.past.push(this.now),this.updateElement(t,"historyRedo"))}updateHistory(t){if(!this.now){this.now=t;return}const s=this.now.value!==t.value,n=this.now.selection.some((o,i)=>o!==t.selection[i]);!s&&!n||(s&&(this.past.push(this.now),this.future=[]),this.now=t)}updateElement(t,s){this.now=t,this.updateElementState(t,{inputType:s,data:null})}}function je(e,...t){return t.every(({value:s})=>s===e.value)}function Me(e,...t){return t.every(({value:s,selection:n})=>s===e.value&&n[0]===e.selection[0]&&n[1]===e.selection[1])}function Pe({value:e,selection:t},s,n){const[o,i]=t,r=typeof n=="function"?n({value:e,selection:t}):n;return{value:e,selection:r==="replace"?[o,o+s.length]:[o,i]}}function j(e){return typeof e=="string"}function Y(e,t,s,n){let o="";for(let i=t.length;i<e.length;i++){const r=e[i],a=(n==null?void 0:n.value[i])===r;if(!j(r)||r===s&&!a)return o;o+=r}return o}function oe(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((s,n)=>{const o=t[n];return j(o)?s===o:s.match(o)}):t.test(e)}function Le(e,t,s){let n=null,o=null;const i=Array.from(e.value).reduce((a,l,c)=>{const u=Y(t,a,l,s),d=a+u,p=t[d.length];return j(p)?d+p:l.match(p)?(n===null&&c>=e.selection[0]&&(n=d.length),o===null&&c>=e.selection[1]&&(o=d.length),d+l):d},""),r=Y(t,i,"",s);return{value:oe(i+r,t)?i+r:i,selection:[n??i.length,o??i.length]}}function Ne({value:e,selection:t},s){const[n,o]=t;let i=n,r=o;return{value:Array.from(e).reduce((l,c,u)=>{const d=l+c;return n===u&&(i=l.length),o===u&&(r=l.length),d.match(s)?d:l},""),selection:[i,r]}}function C(e,t,s=null){if(oe(e.value,t))return e;const{value:n,selection:o}=Array.isArray(t)?Le(e,t,s):Ne(e,t);return{selection:o,value:Array.isArray(t)?n.slice(0,t.length):n}}function Z(e,t){if(!Array.isArray(t))return e;const[s,n]=e.selection,o=[],i=Array.from(e.value).reduce((r,a,l)=>{const c=t[l];return l===s&&o.push(r.length),l===n&&o.push(r.length),j(c)&&c===a?r:r+a},"");return o.length<2&&o.push(...new Array(2-o.length).fill(i.length)),{value:i,selection:[o[0],o[1]]}}class F{constructor(t,s){this.initialElementState=t,this.maskOptions=s,this.value="",this.selection=[0,0];const{value:n,selection:o}=C(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=n,this.selection=o}addCharacters([t,s],n){const{value:o}=this,i=this.getMaskExpression({value:o.slice(0,t)+n+o.slice(s),selection:[t+n.length,t+n.length]}),r={value:o,selection:[t,s]},a=Z(r,i),[l,c]=Pe(a,n,this.maskOptions.overwriteMode).selection,u=a.value.slice(0,l)+n,d=u.length,p=C({value:u+a.value.slice(c),selection:[d,d]},i,r);if(o.slice(0,l)===C({value:u,selection:[d,d]},i,r).value||Me(this,p))throw new Error("Invalid mask value");this.value=p.value,this.selection=p.selection}deleteCharacters([t,s]){if(t===s||!s)return;const{value:n}=this,o=this.getMaskExpression({value:n.slice(0,t)+n.slice(s),selection:[t,t]}),i={value:n,selection:[t,s]},r=Z(i,o),[a,l]=r.selection,c=r.value.slice(0,a)+r.value.slice(l),u=C({value:c,selection:[a,a]},o,i);this.value=u.value,this.selection=u.selection}getMaskExpression(t){const{mask:s}=this.maskOptions;return typeof s=="function"?s(t):s}}class He{constructor(t){this.element=t,this.listeners=[]}listen(t,s,n){const o=s;this.element.addEventListener(t,o,n),this.listeners.push(()=>this.element.removeEventListener(t,o))}destroy(){this.listeners.forEach(t=>t())}}const v={CTRL:1,ALT:2,SHIFT:4,META:8},w={Y:89,Z:90};function b(e,t,s){return e.ctrlKey===!!(t&v.CTRL)&&e.altKey===!!(t&v.ALT)&&e.shiftKey===!!(t&v.SHIFT)&&e.metaKey===!!(t&v.META)&&e.keyCode===s}function Be(e){return b(e,v.CTRL,w.Y)||b(e,v.CTRL|v.SHIFT,w.Z)||b(e,v.META|v.SHIFT,w.Z)}function Fe(e){return b(e,v.CTRL,w.Z)||b(e,v.META,w.Z)}function Ve({value:e,selection:t},s){const[n,o]=t;if(n!==o)return[n,o];const i=s?e.slice(n).indexOf(`
`)+1||e.length:e.slice(0,o).lastIndexOf(`
`)+1;return[s?n:i,s?i:o]}function We({value:e,selection:t},s){const[n,o]=t;return n!==o?[n,o]:(s?[n,o+1]:[n-1,o]).map(r=>Math.min(Math.max(r,0),e.length))}const $e=/\s+$/g,ze=/^\s+/g,X=/\s/;function Ge({value:e,selection:t},s){const[n,o]=t;if(n!==o)return[n,o];if(s){const l=e.slice(n),[c]=l.match(ze)||[""],u=l.trimStart().search(X);return[n,u!==-1?n+c.length+u:e.length]}const i=e.slice(0,o),[r]=i.match($e)||[""],a=i.trimEnd().split("").reverse().findIndex(l=>l.match(X));return[a!==-1?o-r.length-a:0,o]}function O(e=[]){return(t,...s)=>e.reduce((n,o)=>Object.assign(Object.assign({},n),o(n,...s)),t)}function Ue(e,t){const s=Object.assign(Object.assign({},T),t),n=O(s.preprocessors),o=O(s.postprocessors),i=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:r}=n({elementState:i,data:""},"validation"),a=new F(r,s),{value:l,selection:c}=o(a,i);return typeof e=="string"?l:{value:l,selection:c}}class Ke extends Te{constructor(t,s){super(),this.element=t,this.maskitoOptions=s,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new He(this.element),this.options=Object.assign(Object.assign({},T),this.maskitoOptions),this.preprocessor=O(this.options.preprocessors),this.postprocessor=O(this.options.postprocessors),this.teardowns=this.options.plugins.map(n=>n(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",n=>{if(Be(n))return n.preventDefault(),this.redo();if(Fe(n))return n.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",n=>{var o;const i=n.inputType.includes("Forward");switch(this.updateHistory(this.elementState),n.inputType){case"historyUndo":return n.preventDefault(),this.undo();case"historyRedo":return n.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:n,isForward:i,selection:We(this.elementState,i)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:n,isForward:i,selection:Ge(this.elementState,i),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:n,isForward:i,selection:Ve(this.elementState,i),force:!0});case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(n);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(n,n.data||((o=n.dataTransfer)===null||o===void 0?void 0:o.getData("text/plain"))||"")}}),this.eventListener.listen("input",({inputType:n})=>{n!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:t,selectionStart:s,selectionEnd:n}=this.element;return{value:t,selection:[s||0,n||0]}}get maxLength(){const{maxLength:t}=this.element;return t===-1?1/0:t}destroy(){this.eventListener.destroy(),this.teardowns.forEach(t=>t==null?void 0:t())}updateElementState({value:t,selection:s},n={inputType:"insertText",data:null}){const o=this.elementState.value;this.updateValue(t),this.updateSelectionRange(s),o!==t&&this.dispatchInputEvent(n)}updateSelectionRange([t,s]){var n;const{element:o}=this;o.matches(":focus")&&(o.selectionStart!==t||o.selectionEnd!==s)&&((n=o.setSelectionRange)===null||n===void 0||n.call(o,t,s))}updateValue(t){this.element.value=t}ensureValueFitsMask(){this.updateElementState(Ue(this.elementState,this.options))}dispatchInputEvent(t={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},t),{bubbles:!0,cancelable:!1})))}handleDelete({event:t,selection:s,isForward:n,force:o=!1}){const i={value:this.elementState.value,selection:s},[r,a]=i.selection,{elementState:l}=this.preprocessor({elementState:i,data:""},n?"deleteForward":"deleteBackward"),c=new F(l,this.options),[u,d]=l.selection;c.deleteCharacters([u,d]);const p=this.postprocessor(c,i);if(!(i.value.slice(0,r)+i.value.slice(a)===p.value&&!o&&!this.element.isContentEditable)){if(t.preventDefault(),je(i,l,c,p))return this.updateSelectionRange(n?[d,d]:[u,u]);this.updateElementState(p,{inputType:t.inputType,data:null}),this.updateHistory(p)}}handleInsert(t,s){const n=this.elementState,{elementState:o,data:i=s}=this.preprocessor({data:s,elementState:n},"insert"),r=new F(o,this.options);try{r.addCharacters(o.selection,i)}catch{return t.preventDefault()}const[a,l]=o.selection,c=n.value.slice(0,a)+s+n.value.slice(l),u=this.postprocessor(r,n);if(u.value.length>this.maxLength)return t.preventDefault();(c!==u.value||this.element.isContentEditable)&&(t.preventDefault(),this.updateElementState(u,{data:s,inputType:t.inputType}),this.updateHistory(u))}handleEnter(t){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(t,`
`)}}function ie(e,t,s){const n=Math.min(Number(s),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(n):n}function re(e){return e.replaceAll(/\W/g,"").length}function q(e,{day:t,month:s,year:n}={}){const o=new Date(e);return t&&o.setDate(o.getDate()+t),s&&o.setMonth(o.getMonth()+s),n&&o.setFullYear(o.getFullYear()+n),o}const ae=e=>{var t,s,n;return{day:((t=e.match(/d/g))===null||t===void 0?void 0:t.length)||0,month:((s=e.match(/m/g))===null||s===void 0?void 0:s.length)||0,year:((n=e.match(/y/g))===null||n===void 0?void 0:n.length)||0}};function le(e){return{day:String(e.getDate()).padStart(2,"0"),month:String(e.getMonth()+1).padStart(2,"0"),year:String(e.getFullYear()).padStart(4,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")}}function Ye(e,t){const s=re(t),[n=""]=e.match(new RegExp(`(\\D*\\d){${s}}`))||[];return n}function W(e,t){return e.length<t.length?!1:e.split(/\D/).every(s=>!s.match(/^0+$/))}function k(e,t,s){const n=re(t);return e.replace(s,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${n}}`,"g"))||[]}function A(e,t){const s=t.replaceAll(/[^dmy]/g,""),n=e.replaceAll(/\D+/g,""),o={day:n.slice(s.indexOf("d"),s.lastIndexOf("d")+1),month:n.slice(s.indexOf("m"),s.lastIndexOf("m")+1),year:n.slice(s.indexOf("y"),s.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(o).filter(([i,r])=>!!r).sort(([i],[r])=>t.toLowerCase().indexOf(i[0])>t.toLowerCase().indexOf(r[0])?1:-1))}function $(e,t){var s,n,o,i,r,a,l;const c=((s=e.year)===null||s===void 0?void 0:s.length)===2?`20${e.year}`:e.year,u=new Date(Number(c??"0"),Number((n=e.month)!==null&&n!==void 0?n:"1")-1,Number((o=e.day)!==null&&o!==void 0?o:"1"),Number((i=void 0)!==null&&i!==void 0?i:"0"),Number((r=void 0)!==null&&r!==void 0?r:"0"),Number((a=void 0)!==null&&a!==void 0?a:"0"),Number((l=void 0)!==null&&l!==void 0?l:"0"));return u.setFullYear(Number(c??"0")),u}const ce=", ";function E({day:e,month:t,year:s,hours:n,minutes:o,seconds:i,milliseconds:r},{dateMode:a,dateTimeSeparator:l=ce,timeMode:c}){var u;const d=((u=a.match(/y/g))===null||u===void 0?void 0:u.length)===2?s==null?void 0:s.slice(-2):s;return(a+(c?l+c:"")).replaceAll(/d+/g,e??"").replaceAll(/m+/g,t??"").replaceAll(/y+/g,d??"").replaceAll(/H+/g,n??"").replaceAll("MSS",r??"").replaceAll(/M+/g,o??"").replaceAll(/S+/g,i??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}const ue={day:31,month:12,year:9999},Ze=new Date("0001-01-01"),de=new Date("9999-12-31"),Xe=[":","."],J=" ",pe="–",qe="—",Je="-",Qe="−",et="ー";function tt({dateString:e,dateModeTemplate:t,offset:s,selection:[n,o]}){const i=A(e,t),r=Object.entries(i),a={};for(const[u,d]of r){const p=E(a,{dateMode:t}),m=ue[u],g=p.length&&1,S=s+p.length+g+ae(t)[u],y=S>=n&&S===o;if(y&&Number(d)>Number(m))return{validatedDateString:"",updatedSelection:[n,o]};if(y&&Number(d)<1)return{validatedDateString:"",updatedSelection:[n,o]};a[u]=d}const l=E(a,{dateMode:t}),c=l.length-e.length;return{validatedDateString:l,updatedSelection:[n+c,o+c]}}const he=/[\\^$.*+?()[\]{}|]/g,nt=new RegExp(he.source);function me(e){return e&&nt.test(e)?e.replaceAll(he,"\\$&"):e}function st(e){return e}function N(e){return!e||typeof e=="object"&&Object.keys(e).length===0}function V(e,t,s=0){return Number(e.padEnd(t.length,"0"))<=Number(t)?{validatedSegmentValue:e,prefixedZeroesCount:s}:e.endsWith("0")?V(`0${e.slice(0,t.length-1)}`,t,s+1):V(`${e.slice(0,t.length-1)}0`,t,s)}function Q(e){return e.replaceAll(/[０-９]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function fe({dateModeTemplate:e,dateSegmentSeparator:t,splitFn:s,uniteFn:n}){return({value:o,selection:i})=>{var r;const[a,l]=i,{dateStrings:c,restPart:u=""}=s(o),d=[];let p=0;c.forEach(g=>{const S=A(g,e),x=Object.entries(S).reduce((M,[z,xe])=>{const{validatedSegmentValue:De,prefixedZeroesCount:we}=V(xe,`${ue[z]}`);return p+=we,Object.assign(Object.assign({},M),{[z]:De})},{});d.push(E(x,{dateMode:e}))});const m=n(d,o)+(!((r=c[c.length-1])===null||r===void 0)&&r.endsWith(t)?t:"")+u;return p&&m[l+1]===t&&p++,{selection:[a+p,l+p],value:m}}}function ot({dateModeTemplate:e,firstDateEndSeparator:t,dateSegmentSeparator:s,pseudoFirstDateEndSeparators:n}){return({elementState:o,data:i})=>{const{value:r,selection:a}=o,l=Ye(r,e),c=n.filter(d=>!t.includes(d)&&d!==s),u=new RegExp(`[${c.join("")}]`,"gi");return{elementState:{selection:a,value:l&&r.length>l.length?l+r.slice(l.length).replace(/^[\D\s]*/,t):r},data:i.replace(u,t)}}}function ge(){return({elementState:e,data:t})=>{const{value:s,selection:n}=e;return{elementState:{selection:n,value:Q(s)},data:Q(t)}}}function it(e,t){const s=ae(t);return Object.fromEntries(Object.entries(e).map(([n,o])=>{const i=s[n];return[n,o.length===i&&o.match(/^0+$/)?"1".padStart(i,"0"):o]}))}function ve({dateModeTemplate:e,min:t=Ze,max:s=de,rangeSeparator:n="",dateSegmentSeparator:o="."}){return({value:i,selection:r})=>{const a=n&&i.endsWith(n),l=k(i,e,n);let c="";for(const u of l){c+=c?n:"";const d=A(u,e);if(!W(u,e)){const g=it(d,e),S=E(g,{dateMode:e}),y=u.endsWith(o)?o:"";c+=S+y;continue}const p=$(d),m=ie(p,t,s);c+=E(le(m),{dateMode:e})}return{selection:r,value:c+(a?n:"")}}}function ye({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:s="",dateTimeSeparator:n=ce}){return({elementState:o,data:i})=>{const r=s?new RegExp(`${s}|-`):n,a=i.split(r),l=i.includes(n)?[a[0]]:a;if(l.every(c=>c.trim().split(/\D/).filter(Boolean).length===e.split(t).length)){const c=l.map(u=>rt(u,e,t)).join(s);return{elementState:o,data:`${c}${i.includes(n)&&n+a[1]||""}`}}return{elementState:o,data:i}}}function rt(e,t,s){const n=e.split(/\D/).filter(Boolean),o=t.split(s);return n.map((r,a)=>a===o.length-1?r:r.padStart(o[a].length,"0")).join(s)}function Se({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:s=""}){return({elementState:n,data:o})=>{const{value:i,selection:r}=n;if(o===t)return{elementState:n,data:r[0]===i.length?o:""};const a=o.replaceAll(new RegExp(`[^\\d${me(t)}${s}]`,"g"),"");if(!a)return{elementState:n,data:""};const[l,c]=r;let u=c+o.length;const d=i.slice(0,l)+a+i.slice(u),p=k(d,e,s);let m="";const g=!!s&&d.includes(s);for(const y of p){const{validatedDateString:x,updatedSelection:M}=tt({dateString:y,dateModeTemplate:e,offset:m.length,selection:[l,u]});if(y&&!x)return{elementState:n,data:""};u=M[1],m+=g&&!m?x+s:x}const S=m.slice(l,u);return{elementState:{selection:r,value:m.slice(0,l)+S.split(t).map(y=>"0".repeat(y.length)).join(t)+m.slice(u)},data:S}}}function Ee(){return({elementState:e},t)=>{const{value:s,selection:n}=e;if(!s||at(s,n))return{elementState:e};const[o,i]=n,r=s.slice(o,i).replaceAll(/\d/g,"0"),a=s.slice(0,o)+r+s.slice(i);return t==="validation"||t==="insert"&&o===i?{elementState:{selection:n,value:a}}:{elementState:{selection:t==="deleteBackward"||t==="insert"?[o,o]:[i,i],value:a}}}}function at(e,[t,s]){return s===e.length}function lt({mode:e,separator:t=".",max:s,min:n}){const o=e.split("/").join(t);return Object.assign(Object.assign({},T),{mask:Array.from(o).map(i=>i===t?i:/\d/),overwriteMode:"replace",preprocessors:[ge(),Ee(),ye({dateModeTemplate:o,dateSegmentsSeparator:t}),Se({dateModeTemplate:o,dateSegmentsSeparator:t})],postprocessors:[fe({dateModeTemplate:o,dateSegmentSeparator:t,splitFn:i=>({dateStrings:[i]}),uniteFn:([i])=>i}),ve({min:n,max:s,dateModeTemplate:o,dateSegmentSeparator:t})]})}const ct=[Je,pe,qe,Qe,et];function ut({dateModeTemplate:e,rangeSeparator:t,minLength:s,maxLength:n,max:o=de}){return N(s)&&N(n)?st:({value:i,selection:r})=>{const a=k(i,e,t);if(a.length!==2||a.some(g=>!W(g,e)))return{value:i,selection:r};const[l,c]=a.map(g=>$(A(g,e))),u=q(l,Object.assign(Object.assign({},s),{day:(s==null?void 0:s.day)&&s.day-1})),d=N(n)?o:q(l,Object.assign(Object.assign({},n),{day:(n==null?void 0:n.day)&&n.day-1})),p=ie(c,u,o),m=p>d?d:p;return{selection:r,value:a[0]+t+E(le(m),{dateMode:e})}}}function dt({dateModeTemplate:e,rangeSeparator:t}){return({value:s,selection:n})=>{const o=k(s,e,t),i=o.length===2&&o.every(p=>W(p,e)),[r,a]=n,l=r>=s.length,c=r===0&&a>=s.length;if(!(l||c)||!i)return{value:s,selection:n};const[u,d]=o.map(p=>$(A(p,e)));return{selection:n,value:u>d?o.reverse().join(t):s}}}function pt({mode:e,min:t,max:s,minLength:n,maxLength:o,dateSeparator:i=".",rangeSeparator:r=`${J}${pe}${J}`}){const a=e.split("/").join(i),l=Array.from(a).map(c=>c===i?c:/\d/);return Object.assign(Object.assign({},T),{mask:[...l,...Array.from(r),...l],overwriteMode:"replace",preprocessors:[ge(),ot({dateModeTemplate:a,dateSegmentSeparator:i,firstDateEndSeparator:r,pseudoFirstDateEndSeparators:ct}),Ee(),ye({dateModeTemplate:a,rangeSeparator:r,dateSegmentsSeparator:i}),Se({dateModeTemplate:a,rangeSeparator:r,dateSegmentsSeparator:i})],postprocessors:[fe({dateModeTemplate:a,dateSegmentSeparator:i,splitFn:c=>({dateStrings:k(c,a,r)}),uniteFn:(c,u)=>c.reduce((d,p,m)=>d+p+(!m&&u.includes(r)?r:""),"")}),ve({min:t,max:s,dateModeTemplate:a,rangeSeparator:r,dateSegmentSeparator:i}),ut({dateModeTemplate:a,minLength:n,maxLength:o,max:s,rangeSeparator:r}),dt({dateModeTemplate:a,rangeSeparator:r})]})}new RegExp(`[${Xe.map(me).join("")}]$`);const ee=typeof window<"u"?f.useLayoutEffect:f.useEffect;function ht(e){return e&&typeof e=="object"&&"then"in e}const I=({options:e=null,elementPredicate:t=_e}={})=>{const[s,n]=f.useState(null),[o,i]=f.useState(null),r=f.useCallback(l=>{n(l)},[]),a=f.useRef(t);return a.current=t,ee(()=>{if(!s)return;const l=t,c=l(s);ht(c)?c.then(u=>{a.current===l&&i(u)}):i(c)},[s,t,a]),ee(()=>{if(!o||!e)return;const l=new Ke(o,e);return()=>{l.destroy()}},[e,o]),r},H=e=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",focusable:!1,...e},f.createElement("defs",null,f.createElement("clipPath",{id:"Calendar_Outline_svg__a"},f.createElement("path",{fill:"#fff",fillOpacity:0,d:"M0 0h24v24H0z"}))),f.createElement("g",{clipPath:"url(#Calendar_Outline_svg__a)"},f.createElement("path",{fill:"#717681",fillRule:"evenodd",d:"M8.14 1.94c.35 0 .65.3.65.65v1.39h2.56V2.59c0-.35.29-.65.65-.65.35 0 .64.3.64.65v1.39h2.56V2.59c0-.35.29-.65.65-.65.35 0 .65.3.65.65v1.39h.5c1.64 0 3 1.34 3 3v10.13c0 1.67-1.34 3-3 3H7c-1.67 0-3-1.33-3-3V6.98c0-1.66 1.33-3 3-3h.48V2.59c0-.35.3-.65.66-.65m-.66 4.91V5.28H7c-.94 0-1.71.76-1.71 1.7v2.36H18.7V6.98c0-.94-.77-1.7-1.7-1.7h-.5v1.57c0 .36-.3.65-.65.65-.36 0-.65-.29-.65-.65V5.28h-2.56v1.57c0 .36-.29.65-.64.65-.36 0-.65-.29-.65-.65V5.28H8.79v1.57a.655.655 0 0 1-1.31 0m11.22 3.8H5.29v6.46c0 .94.77 1.7 1.71 1.7h10c.93 0 1.7-.76 1.7-1.7zM7.52 13.99c0-.74.61-1.34 1.35-1.34h2.33c.74 0 1.34.6 1.34 1.34v1.32c0 .75-.6 1.36-1.34 1.36H8.87c-.74 0-1.35-.61-1.35-1.36zm1.32-.03c-.01.01-.01.02-.01.03v1.32c0 .02 0 .03.01.04s.02.01.03.01h2.33c.01 0 .02 0 .03-.01s.02-.02.02-.04v-1.32c0-.01-.01-.02-.02-.03s-.02-.01-.03-.01H8.87c-.01 0-.02 0-.03.01"}))),B=lt({mode:"dd/mm/yyyy"}),mt=pt({mode:"dd/mm/yyyy"}),ft=()=>{const e=I({options:B}),t=I({options:mt}),s=I({options:B}),n=I({options:B});return h.jsxs(be,{children:[h.jsxs(G,{children:[h.jsxs(L,{children:[h.jsx(D,{ref:e,placeholder:"дд.мм.гггг"}),h.jsx(P,{icon:H})]}),h.jsxs(L,{"data-size":"xl",children:[h.jsx(D,{ref:t,placeholder:"дд.мм.гггг - дд.мм.гггг"}),h.jsx(P,{icon:H})]}),h.jsxs(L,{"data-size":"s",children:[h.jsx(D,{ref:s,placeholder:"дд.мм.гггг",style:{width:70}}),h.jsx(ke,{style:{width:20},children:" – "}),h.jsx(D,{ref:n,placeholder:"дд.мм.гггг"}),h.jsx(P,{icon:H})]})]}),h.jsxs(G,{children:[h.jsx(U,{font:"Subtitle/Subtitle 2",as:"div",children:"Выбор даты"}),h.jsxs(U,{font:"Body/Body 2 Long",as:"div",children:["Высота календаря постоянна и состоит из шести рядов чисел. Текущий месяц начинается с первого ряда и, если его даты не заходят на шестой ряд, то там ставятся пустые ячейки (Empty).",h.jsx("br",{}),h.jsx("br",{}),"Текущая дата выделяется обводкой в виде черного кружка. Ховер на дате подсвечивается обводкой синего цвета. Выбранная дата отмечается синим кружком.",h.jsx("br",{}),"При ховере на месяце, годе, стрелках вправо/влево появляются тултипы с подсказками.",h.jsx("br",{}),h.jsx("br",{}),"Клик на месяц/год открывает экран выбора месяца/года. Вернуться на экран выбора даты можно выбрав месяц/год, либо нажав на месяц/год в шапке календаря"]})]})]})},gt=`import { maskitoDateOptionsGenerator, maskitoDateRangeOptionsGenerator } from '@maskito/kit';
import { useMaskito } from '@maskito/react';

import { T } from '@admiral-ds/react-ui';
import { InputBox, InputLine, InputIconButton, Separator } from '@admiral-ds/date-picker';
import CalendarOutline from '@admiral-ds/icons/build/system/CalendarOutline.svg?react';

import { WrapperHorizontal, WrapperVertical } from '#src/stories/common.tsx';

const dateOptions = maskitoDateOptionsGenerator({ mode: 'dd/mm/yyyy' });
const dateRangeOptions = maskitoDateRangeOptionsGenerator({ mode: 'dd/mm/yyyy' });

export const DatePickerSimpleTemplate = () => {
  const maskedDateInputRef = useMaskito({ options: dateOptions });
  const maskedDateRangeInputRef = useMaskito({ options: dateRangeOptions });
  const maskedStartDateInputRef = useMaskito({ options: dateOptions });
  const maskedEndDateInputRef = useMaskito({ options: dateOptions });
  return (
    <WrapperHorizontal>
      <WrapperVertical>
        <InputBox>
          <InputLine ref={maskedDateInputRef} placeholder="дд.мм.гггг" />
          <InputIconButton icon={CalendarOutline} />
        </InputBox>
        <InputBox data-size="xl">
          <InputLine ref={maskedDateRangeInputRef} placeholder="дд.мм.гггг - дд.мм.гггг" />
          <InputIconButton icon={CalendarOutline} />
        </InputBox>
        <InputBox data-size="s">
          <InputLine ref={maskedStartDateInputRef} placeholder="дд.мм.гггг" style={{ width: 70 }} />
          <Separator style={{ width: 20 }}> – </Separator>
          <InputLine ref={maskedEndDateInputRef} placeholder="дд.мм.гггг" />
          <InputIconButton icon={CalendarOutline} />
        </InputBox>
      </WrapperVertical>

      <WrapperVertical>
        <T font="Subtitle/Subtitle 2" as="div">
          Выбор даты
        </T>
        <T font="Body/Body 2 Long" as="div">
          Высота календаря постоянна и состоит из шести рядов чисел. Текущий месяц начинается с первого ряда и, если его
          даты не заходят на шестой ряд, то там ставятся пустые ячейки (Empty).
          <br />
          <br />
          Текущая дата выделяется обводкой в виде черного кружка. Ховер на дате подсвечивается обводкой синего цвета.
          Выбранная дата отмечается синим кружком.
          <br />
          При ховере на месяце, годе, стрелках вправо/влево появляются тултипы с подсказками.
          <br />
          <br />
          Клик на месяц/год открывает экран выбора месяца/года. Вернуться на экран выбора даты можно выбрав месяц/год,
          либо нажав на месяц/год в шапке календаря
        </T>
      </WrapperVertical>
    </WrapperHorizontal>
  );
};
`,Dt={title:"Admiral-2.1/Date Picker/DatePicker",component:D,parameters:{docs:{source:{language:"tsx"}},design:{type:"figma",url:"https://www.figma.com/file/EGEGZsx8WhdxpmFKu8J41G/Admiral-2.1-UI-Kit?node-id=39%3A53407"}},argTypes:{dateValue:{control:{type:"text"}},defaultDateValue:{control:{type:"text"}},onDateValueChange:{control:!1},locale:{control:!1}}},vt=e=>h.jsx(ft,{...e}),R={render:vt,parameters:{docs:{source:{code:gt}}},name:"Выбор даты"};var te,ne,se;R.parameters={...R.parameters,docs:{...(te=R.parameters)==null?void 0:te.docs,source:{originalSource:`{
  render: DatePickerCalendarSimpleStory,
  parameters: {
    docs: {
      source: {
        code: DatePickerSimpleTemplateRaw
      }
    }
  },
  name: 'Выбор даты'
}`,...(se=(ne=R.parameters)==null?void 0:ne.docs)==null?void 0:se.source}}};const wt=["DatePickerCalendarSimple"];export{R as DatePickerCalendarSimple,wt as __namedExportsOrder,Dt as default};
