import{p as C,j as m,t as Je}from"./typography.es-CjQrIQMn.js";import{f as Qe,p as et}from"./index.es-Ch9jN6aC.js";import{r as h}from"./index-CDs2tPxN.js";import{P as tt,r as Ce,p as nt,T as we,I as at,S as st,a as ot}from"./ChevronRightOutline-DIae5nKi.js";import{g as be,l as rt,s as re}from"./utils-B_ZJ_ERX.js";import{C as ut,r as _e}from"./index-B0XozSxi.js";import{S as it,C as lt,D as ct,M as dt,Y as pt}from"./calendarStyle-C_uGlpZ8.js";import{a as ue}from"./constants-C6vCpwtL.js";import{W as mt,a as ie,T as le}from"./common-DpnS3vu6.js";import{u as ht,D as ft,a as gt}from"./DropdownProvider.es-Dczk-0Um.js";import{m as yt,d as vt}from"./ru-lGojcqRe.js";import"./tslib.es6-CRos2fHm.js";import"./index-B-yFm4aN.js";import"./mixins-0kl9vljp.js";import"./index-CB9F3xGI.js";import"./index-C11fHoN7.js";import"./index-fVtI0-nO.js";import"./index-C8A4LDPd.js";import"./index-CscHnoSH.js";const Dt=(e,t)=>{const n=h.useCallback(a=>{e.every(s=>s.current&&!s.current.contains(a.target))&&t(a)},[t,e]);h.useEffect(()=>(document.addEventListener("mousedown",n,!0),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n,!0),document.removeEventListener("touchstart",n)}),[n])};function xt(e,t){const n=h.useRef(null),a=h.useRef(e);return h.useEffect(()=>{a.current=e},[e]),h.useEffect(()=>(n.current=window.setInterval(()=>a.current(),t),()=>window.clearInterval(n.current||0)),[t]),n}const Et=C.div`
  pointer-events: initial;
  margin: 8px 0;
  flex: 0 0 auto;
  ${e=>e.$alignSelf?`align-self: ${e.$alignSelf};`:""};
  max-width: calc(100vw - 32px);
  opacity: 0;
  transition-delay: 200ms;
  transition-property: opacity;

  &:focus-visible {
    border: 2px solid blue;
  }

  ${e=>e.$dropContainerCssMixin}
`,St=C.div`
  pointer-events: none;
  height: 100%;
  flex: 0 0 auto;
`,Ct=C(tt)`
  display: flex;
  flex-direction: ${e=>e.$reverse?"column-reverse":"column"};
  flex-wrap: nowrap;
`,Ie=h.forwardRef(({targetRef:e,targetElement:t,onClickOutside:n=()=>null,className:a="",alignSelf:s,dropContainerCssMixin:o,...r},i)=>{const u=h.useRef(null),[l,c]=h.useState(!1),d=t??(e==null?void 0:e.current),{addDropdown:p,removeDropdown:f,dropdowns:v}=ht(u),{rootRef:E}=h.useContext(ft);Dt([u],g=>{gt(g,v)&&n(g)}),h.useLayoutEffect(()=>{var g;u.current!==document.activeElement&&((g=u==null?void 0:u.current)==null||g.focus())},[]);const w=h.useCallback(()=>{const g=u.current;if(g&&d){const y=g.getBoundingClientRect(),D=d.getBoundingClientRect(),I=window.innerHeight,A=window.innerWidth;if(I-y.bottom<0&&D.top>I-D.bottom?l||c(!0):(D.bottom+(D.top-y.top)<I-8||D.top<I-D.bottom)&&l&&c(!1),s&&s!=="auto")return;const x=y.right-y.left,b=A-D.left>=x,V=D.right-16>=x,F=x>D.width;if(V||b)g.style.transform="translateX(0)",V&&b?g.style.alignSelf="flex-end":F&&!V&&b?g.style.alignSelf="flex-start":F&&!b&&V&&(g.style.alignSelf="flex-end");else{g.style.alignSelf="center";const k=(A-y.width)/2-(D.left-(x-D.width)/2);g.style.transform=`translateX(${k}px)`}}},[l,e,t]);return xt(w,100),h.useEffect(()=>{u.current&&(u.current.style.opacity="1")},[]),h.useLayoutEffect(()=>(p==null||p(u),()=>{f==null||f(u)}),[]),m.jsx(m.Fragment,{children:m.jsxs(Ct,{targetElement:d,$reverse:l,rootRef:E,children:[m.jsx(St,{}),m.jsx(Et,{ref:Ce(i,u),...r,className:a+" dropdown-container",$alignSelf:s,$dropContainerCssMixin:o})]})})});Ie.displayName="DropdownContainer";const Ae=C(Ie)`
  box-shadow: var(--admiral-box-shadow-Shadow08, ${e=>nt(e.theme.shadow["Shadow 08"])});
  border-radius: var(--admiral-border-radius-Medium, ${e=>yt(e.theme.shape)});
  overflow: hidden;
  width: max-content;
`;Ae.displayName="StyledDropdownContainer";function ce(e){const{anchorOffset:t=0,focusOffset:n=0}=e.ownerDocument.getSelection()||{},a=Math.min(t,n),s=Math.max(t,n);return[a,s]}function wt(e,[t,n]){var a,s;const o=e.ownerDocument,r=o.createRange();r.setStart(e.firstChild||e,Math.min(t,((a=e.textContent)===null||a===void 0?void 0:a.length)||0)),r.setEnd(e.lastChild||e,Math.min(n,((s=e.textContent)===null||s===void 0?void 0:s.length)||0));const i=o.getSelection();i&&(i.removeAllRanges(),i.addRange(r))}class bt{constructor(t){this.element=t,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(t){this.element.innerHTML=t.replace(/\n$/,`

`)}get selectionStart(){return ce(this.element)[0]}get selectionEnd(){return ce(this.element)[1]}setSelectionRange(t,n){wt(this.element,[t||0,n||0])}select(){this.setSelectionRange(0,this.value.length)}}function _t(e){const t=new bt(e);return new Proxy(e,{get(n,a){if(a in t)return t[a];const s=n[a];return typeof s=="function"?s.bind(n):s},set(n,a,s,o){return Reflect.set(a in t?t:n,a,s,o)}})}const It=e=>e.isContentEditable?_t(e):e.querySelector("input,textarea")||e,Y={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class At{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const t=this.past.pop();t&&this.now&&(this.future.push(this.now),this.updateElement(t,"historyUndo"))}redo(){const t=this.future.pop();t&&this.now&&(this.past.push(this.now),this.updateElement(t,"historyRedo"))}updateHistory(t){if(!this.now){this.now=t;return}const n=this.now.value!==t.value,a=this.now.selection.some((s,o)=>s!==t.selection[o]);!n&&!a||(n&&(this.past.push(this.now),this.future=[]),this.now=t)}updateElement(t,n){this.now=t,this.updateElementState(t,{inputType:n,data:null})}}function Vt(e,...t){return t.every(({value:n})=>n===e.value)}function Tt(e,...t){return t.every(({value:n,selection:a})=>n===e.value&&a[0]===e.selection[0]&&a[1]===e.selection[1])}function Bt({value:e,selection:t},n,a){const[s,o]=t,r=typeof a=="function"?a({value:e,selection:t}):a;return{value:e,selection:r==="replace"?[s,s+n.length]:[s,o]}}function z(e){return typeof e=="string"}function de(e,t,n,a){let s="";for(let o=t.length;o<e.length;o++){const r=e[o],i=(a==null?void 0:a.value[o])===r;if(!z(r)||r===n&&!i)return s;s+=r}return s}function Ve(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((n,a)=>{const s=t[a];return z(s)?n===s:n.match(s)}):t.test(e)}function kt(e,t,n){let a=null,s=null;const o=Array.from(e.value).reduce((i,u,l)=>{const c=de(t,i,u,n),d=i+c,p=t[d.length];return z(p)?d+p:u.match(p)?(a===null&&l>=e.selection[0]&&(a=d.length),s===null&&l>=e.selection[1]&&(s=d.length),d+u):d},""),r=de(t,o,"",n);return{value:Ve(o+r,t)?o+r:o,selection:[a??o.length,s??o.length]}}function Mt({value:e,selection:t},n){const[a,s]=t;let o=a,r=s;return{value:Array.from(e).reduce((u,l,c)=>{const d=u+l;return a===c&&(o=u.length),s===c&&(r=u.length),d.match(n)?d:u},""),selection:[o,r]}}function H(e,t,n=null){if(Ve(e.value,t))return e;const{value:a,selection:s}=Array.isArray(t)?kt(e,t,n):Mt(e,t);return{selection:s,value:Array.isArray(t)?a.slice(0,t.length):a}}function pe(e,t){if(!Array.isArray(t))return e;const[n,a]=e.selection,s=[],o=Array.from(e.value).reduce((r,i,u)=>{const l=t[u];return u===n&&s.push(r.length),u===a&&s.push(r.length),z(l)&&l===i?r:r+i},"");return s.length<2&&s.push(...new Array(2-s.length).fill(o.length)),{value:o,selection:[s[0],s[1]]}}class Z{constructor(t,n){this.initialElementState=t,this.maskOptions=n,this.value="",this.selection=[0,0];const{value:a,selection:s}=H(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=a,this.selection=s}addCharacters([t,n],a){const{value:s}=this,o=this.getMaskExpression({value:s.slice(0,t)+a+s.slice(n),selection:[t+a.length,t+a.length]}),r={value:s,selection:[t,n]},i=pe(r,o),[u,l]=Bt(i,a,this.maskOptions.overwriteMode).selection,c=i.value.slice(0,u)+a,d=c.length,p=H({value:c+i.value.slice(l),selection:[d,d]},o,r);if(s.slice(0,u)===H({value:c,selection:[d,d]},o,r).value||Tt(this,p))throw new Error("Invalid mask value");this.value=p.value,this.selection=p.selection}deleteCharacters([t,n]){if(t===n||!n)return;const{value:a}=this,s=this.getMaskExpression({value:a.slice(0,t)+a.slice(n),selection:[t,t]}),o={value:a,selection:[t,n]},r=pe(o,s),[i,u]=r.selection,l=r.value.slice(0,i)+r.value.slice(u),c=H({value:l,selection:[i,i]},s,o);this.value=c.value,this.selection=c.selection}getMaskExpression(t){const{mask:n}=this.maskOptions;return typeof n=="function"?n(t):n}}class Pt{constructor(t){this.element=t,this.listeners=[]}listen(t,n,a){const s=n;this.element.addEventListener(t,s,a),this.listeners.push(()=>this.element.removeEventListener(t,s))}destroy(){this.listeners.forEach(t=>t())}}const _={CTRL:1,ALT:2,SHIFT:4,META:8},M={Y:89,Z:90};function P(e,t,n){return e.ctrlKey===!!(t&_.CTRL)&&e.altKey===!!(t&_.ALT)&&e.shiftKey===!!(t&_.SHIFT)&&e.metaKey===!!(t&_.META)&&e.keyCode===n}function Rt(e){return P(e,_.CTRL,M.Y)||P(e,_.CTRL|_.SHIFT,M.Z)||P(e,_.META|_.SHIFT,M.Z)}function Nt(e){return P(e,_.CTRL,M.Z)||P(e,_.META,M.Z)}function jt({value:e,selection:t},n){const[a,s]=t;if(a!==s)return[a,s];const o=n?e.slice(a).indexOf(`
`)+1||e.length:e.slice(0,s).lastIndexOf(`
`)+1;return[n?a:o,n?o:s]}function Ot({value:e,selection:t},n){const[a,s]=t;return a!==s?[a,s]:(n?[a,s+1]:[a-1,s]).map(r=>Math.min(Math.max(r,0),e.length))}const Ft=/\s+$/g,Lt=/^\s+/g,me=/\s/;function Ht({value:e,selection:t},n){const[a,s]=t;if(a!==s)return[a,s];if(n){const u=e.slice(a),[l]=u.match(Lt)||[""],c=u.trimStart().search(me);return[a,c!==-1?a+l.length+c:e.length]}const o=e.slice(0,s),[r]=o.match(Ft)||[""],i=o.trimEnd().split("").reverse().findIndex(u=>u.match(me));return[i!==-1?s-r.length-i:0,s]}function q(e=[]){return(t,...n)=>e.reduce((a,s)=>Object.assign(Object.assign({},a),s(a,...n)),t)}function Wt(e,t){const n=Object.assign(Object.assign({},Y),t),a=q(n.preprocessors),s=q(n.postprocessors),o=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:r}=a({elementState:o,data:""},"validation"),i=new Z(r,n),{value:u,selection:l}=s(i,o);return typeof e=="string"?u:{value:u,selection:l}}class $t extends At{constructor(t,n){super(),this.element=t,this.maskitoOptions=n,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new Pt(this.element),this.options=Object.assign(Object.assign({},Y),this.maskitoOptions),this.preprocessor=q(this.options.preprocessors),this.postprocessor=q(this.options.postprocessors),this.teardowns=this.options.plugins.map(a=>a(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",a=>{if(Rt(a))return a.preventDefault(),this.redo();if(Nt(a))return a.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",a=>{var s;const o=a.inputType.includes("Forward");switch(this.updateHistory(this.elementState),a.inputType){case"historyUndo":return a.preventDefault(),this.undo();case"historyRedo":return a.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:a,isForward:o,selection:Ot(this.elementState,o)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:a,isForward:o,selection:Ht(this.elementState,o),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:a,isForward:o,selection:jt(this.elementState,o),force:!0});case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(a);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(a,a.data||((s=a.dataTransfer)===null||s===void 0?void 0:s.getData("text/plain"))||"")}}),this.eventListener.listen("input",({inputType:a})=>{a!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:t,selectionStart:n,selectionEnd:a}=this.element;return{value:t,selection:[n||0,a||0]}}get maxLength(){const{maxLength:t}=this.element;return t===-1?1/0:t}destroy(){this.eventListener.destroy(),this.teardowns.forEach(t=>t==null?void 0:t())}updateElementState({value:t,selection:n},a={inputType:"insertText",data:null}){const s=this.elementState.value;this.updateValue(t),this.updateSelectionRange(n),s!==t&&this.dispatchInputEvent(a)}updateSelectionRange([t,n]){var a;const{element:s}=this;s.matches(":focus")&&(s.selectionStart!==t||s.selectionEnd!==n)&&((a=s.setSelectionRange)===null||a===void 0||a.call(s,t,n))}updateValue(t){this.element.value=t}ensureValueFitsMask(){this.updateElementState(Wt(this.elementState,this.options))}dispatchInputEvent(t={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},t),{bubbles:!0,cancelable:!1})))}handleDelete({event:t,selection:n,isForward:a,force:s=!1}){const o={value:this.elementState.value,selection:n},[r,i]=o.selection,{elementState:u}=this.preprocessor({elementState:o,data:""},a?"deleteForward":"deleteBackward"),l=new Z(u,this.options),[c,d]=u.selection;l.deleteCharacters([c,d]);const p=this.postprocessor(l,o);if(!(o.value.slice(0,r)+o.value.slice(i)===p.value&&!s&&!this.element.isContentEditable)){if(t.preventDefault(),Vt(o,u,l,p))return this.updateSelectionRange(a?[d,d]:[c,c]);this.updateElementState(p,{inputType:t.inputType,data:null}),this.updateHistory(p)}}handleInsert(t,n){const a=this.elementState,{elementState:s,data:o=n}=this.preprocessor({data:n,elementState:a},"insert"),r=new Z(s,this.options);try{r.addCharacters(s.selection,o)}catch{return t.preventDefault()}const[i,u]=s.selection,l=a.value.slice(0,i)+n+a.value.slice(u),c=this.postprocessor(r,a);if(c.value.length>this.maxLength)return t.preventDefault();(l!==c.value||this.element.isContentEditable)&&(t.preventDefault(),this.updateElementState(c,{data:n,inputType:t.inputType}),this.updateHistory(c))}handleEnter(t){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(t,`
`)}}function Te(e,t,n){const a=Math.min(Number(n),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(a):a}function Be(e){return e.replaceAll(/\W/g,"").length}function he(e,{day:t,month:n,year:a}={}){const s=new Date(e);return t&&s.setDate(s.getDate()+t),n&&s.setMonth(s.getMonth()+n),a&&s.setFullYear(s.getFullYear()+a),s}const ke=e=>{var t,n,a;return{day:((t=e.match(/d/g))===null||t===void 0?void 0:t.length)||0,month:((n=e.match(/m/g))===null||n===void 0?void 0:n.length)||0,year:((a=e.match(/y/g))===null||a===void 0?void 0:a.length)||0}};function Me(e){return{day:String(e.getDate()).padStart(2,"0"),month:String(e.getMonth()+1).padStart(2,"0"),year:String(e.getFullYear()).padStart(4,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")}}function qt(e,t){const n=Be(t),[a=""]=e.match(new RegExp(`(\\D*\\d){${n}}`))||[];return a}function se(e,t){return e.length<t.length?!1:e.split(/\D/).every(n=>!n.match(/^0+$/))}function j(e,t,n){const a=Be(t);return e.replace(n,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${a}}`,"g"))||[]}function O(e,t){const n=t.replaceAll(/[^dmy]/g,""),a=e.replaceAll(/\D+/g,""),s={day:a.slice(n.indexOf("d"),n.lastIndexOf("d")+1),month:a.slice(n.indexOf("m"),n.lastIndexOf("m")+1),year:a.slice(n.indexOf("y"),n.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(s).filter(([o,r])=>!!r).sort(([o],[r])=>t.toLowerCase().indexOf(o[0])>t.toLowerCase().indexOf(r[0])?1:-1))}function oe(e,t){var n,a,s,o,r,i,u;const l=((n=e.year)===null||n===void 0?void 0:n.length)===2?`20${e.year}`:e.year,c=new Date(Number(l??"0"),Number((a=e.month)!==null&&a!==void 0?a:"1")-1,Number((s=e.day)!==null&&s!==void 0?s:"1"),Number((o=void 0)!==null&&o!==void 0?o:"0"),Number((r=void 0)!==null&&r!==void 0?r:"0"),Number((i=void 0)!==null&&i!==void 0?i:"0"),Number((u=void 0)!==null&&u!==void 0?u:"0"));return c.setFullYear(Number(l??"0")),c}const Pe=", ";function B({day:e,month:t,year:n,hours:a,minutes:s,seconds:o,milliseconds:r},{dateMode:i,dateTimeSeparator:u=Pe,timeMode:l}){var c;const d=((c=i.match(/y/g))===null||c===void 0?void 0:c.length)===2?n==null?void 0:n.slice(-2):n;return(i+(l?u+l:"")).replaceAll(/d+/g,e??"").replaceAll(/m+/g,t??"").replaceAll(/y+/g,d??"").replaceAll(/H+/g,a??"").replaceAll("MSS",r??"").replaceAll(/M+/g,s??"").replaceAll(/S+/g,o??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}const Re={day:31,month:12,year:9999},Yt=new Date("0001-01-01"),Ne=new Date("9999-12-31"),zt=[":","."],fe=" ",je="–",Gt="—",Ut="-",Kt="−",Zt="ー";function Xt({dateString:e,dateModeTemplate:t,offset:n,selection:[a,s]}){const o=O(e,t),r=Object.entries(o),i={};for(const[c,d]of r){const p=B(i,{dateMode:t}),f=Re[c],v=p.length&&1,E=n+p.length+v+ke(t)[c],w=E>=a&&E===s;if(w&&Number(d)>Number(f))return{validatedDateString:"",updatedSelection:[a,s]};if(w&&Number(d)<1)return{validatedDateString:"",updatedSelection:[a,s]};i[c]=d}const u=B(i,{dateMode:t}),l=u.length-e.length;return{validatedDateString:u,updatedSelection:[a+l,s+l]}}const Oe=/[\\^$.*+?()[\]{}|]/g,Jt=new RegExp(Oe.source);function Fe(e){return e&&Jt.test(e)?e.replaceAll(Oe,"\\$&"):e}function Qt(e){return e}function G(e){return!e||typeof e=="object"&&Object.keys(e).length===0}function X(e,t,n=0){return Number(e.padEnd(t.length,"0"))<=Number(t)?{validatedSegmentValue:e,prefixedZeroesCount:n}:e.endsWith("0")?X(`0${e.slice(0,t.length-1)}`,t,n+1):X(`${e.slice(0,t.length-1)}0`,t,n)}function ge(e){return e.replaceAll(/[０-９]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function Le({dateModeTemplate:e,dateSegmentSeparator:t,splitFn:n,uniteFn:a}){return({value:s,selection:o})=>{var r;const[i,u]=o,{dateStrings:l,restPart:c=""}=n(s),d=[];let p=0;l.forEach(v=>{const E=O(v,e),g=Object.entries(E).reduce((y,[D,I])=>{const{validatedSegmentValue:A,prefixedZeroesCount:x}=X(I,`${Re[D]}`);return p+=x,Object.assign(Object.assign({},y),{[D]:A})},{});d.push(B(g,{dateMode:e}))});const f=a(d,s)+(!((r=l[l.length-1])===null||r===void 0)&&r.endsWith(t)?t:"")+c;return p&&f[u+1]===t&&p++,{selection:[i+p,u+p],value:f}}}function en({dateModeTemplate:e,firstDateEndSeparator:t,dateSegmentSeparator:n,pseudoFirstDateEndSeparators:a}){return({elementState:s,data:o})=>{const{value:r,selection:i}=s,u=qt(r,e),l=a.filter(d=>!t.includes(d)&&d!==n),c=new RegExp(`[${l.join("")}]`,"gi");return{elementState:{selection:i,value:u&&r.length>u.length?u+r.slice(u.length).replace(/^[\D\s]*/,t):r},data:o.replace(c,t)}}}function He(){return({elementState:e,data:t})=>{const{value:n,selection:a}=e;return{elementState:{selection:a,value:ge(n)},data:ge(t)}}}function tn(e,t){const n=ke(t);return Object.fromEntries(Object.entries(e).map(([a,s])=>{const o=n[a];return[a,s.length===o&&s.match(/^0+$/)?"1".padStart(o,"0"):s]}))}function We({dateModeTemplate:e,min:t=Yt,max:n=Ne,rangeSeparator:a="",dateSegmentSeparator:s="."}){return({value:o,selection:r})=>{const i=a&&o.endsWith(a),u=j(o,e,a);let l="";for(const c of u){l+=l?a:"";const d=O(c,e);if(!se(c,e)){const v=tn(d,e),E=B(v,{dateMode:e}),w=c.endsWith(s)?s:"";l+=E+w;continue}const p=oe(d),f=Te(p,t,n);l+=B(Me(f),{dateMode:e})}return{selection:r,value:l+(i?a:"")}}}function $e({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:n="",dateTimeSeparator:a=Pe}){return({elementState:s,data:o})=>{const r=n?new RegExp(`${n}|-`):a,i=o.split(r),u=o.includes(a)?[i[0]]:i;if(u.every(l=>l.trim().split(/\D/).filter(Boolean).length===e.split(t).length)){const l=u.map(c=>nn(c,e,t)).join(n);return{elementState:s,data:`${l}${o.includes(a)&&a+i[1]||""}`}}return{elementState:s,data:o}}}function nn(e,t,n){const a=e.split(/\D/).filter(Boolean),s=t.split(n);return a.map((r,i)=>i===s.length-1?r:r.padStart(s[i].length,"0")).join(n)}function qe({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:n=""}){return({elementState:a,data:s})=>{const{value:o,selection:r}=a;if(s===t)return{elementState:a,data:r[0]===o.length?s:""};const i=s.replaceAll(new RegExp(`[^\\d${Fe(t)}${n}]`,"g"),"");if(!i)return{elementState:a,data:""};const[u,l]=r;let c=l+s.length;const d=o.slice(0,u)+i+o.slice(c),p=j(d,e,n);let f="";const v=!!n&&d.includes(n);for(const w of p){const{validatedDateString:g,updatedSelection:y}=Xt({dateString:w,dateModeTemplate:e,offset:f.length,selection:[u,c]});if(w&&!g)return{elementState:a,data:""};c=y[1],f+=v&&!f?g+n:g}const E=f.slice(u,c);return{elementState:{selection:r,value:f.slice(0,u)+E.split(t).map(w=>"0".repeat(w.length)).join(t)+f.slice(c)},data:E}}}function Ye(){return({elementState:e},t)=>{const{value:n,selection:a}=e;if(!n||an(n,a))return{elementState:e};const[s,o]=a,r=n.slice(s,o).replaceAll(/\d/g,"0"),i=n.slice(0,s)+r+n.slice(o);return t==="validation"||t==="insert"&&s===o?{elementState:{selection:a,value:i}}:{elementState:{selection:t==="deleteBackward"||t==="insert"?[s,s]:[o,o],value:i}}}}function an(e,[t,n]){return n===e.length}function sn({mode:e,separator:t=".",max:n,min:a}){const s=e.split("/").join(t);return Object.assign(Object.assign({},Y),{mask:Array.from(s).map(o=>o===t?o:/\d/),overwriteMode:"replace",preprocessors:[He(),Ye(),$e({dateModeTemplate:s,dateSegmentsSeparator:t}),qe({dateModeTemplate:s,dateSegmentsSeparator:t})],postprocessors:[Le({dateModeTemplate:s,dateSegmentSeparator:t,splitFn:o=>({dateStrings:[o]}),uniteFn:([o])=>o}),We({min:a,max:n,dateModeTemplate:s,dateSegmentSeparator:t})]})}const on=[Ut,je,Gt,Kt,Zt];function rn({dateModeTemplate:e,rangeSeparator:t,minLength:n,maxLength:a,max:s=Ne}){return G(n)&&G(a)?Qt:({value:o,selection:r})=>{const i=j(o,e,t);if(i.length!==2||i.some(v=>!se(v,e)))return{value:o,selection:r};const[u,l]=i.map(v=>oe(O(v,e))),c=he(u,Object.assign(Object.assign({},n),{day:(n==null?void 0:n.day)&&n.day-1})),d=G(a)?s:he(u,Object.assign(Object.assign({},a),{day:(a==null?void 0:a.day)&&a.day-1})),p=Te(l,c,s),f=p>d?d:p;return{selection:r,value:i[0]+t+B(Me(f),{dateMode:e})}}}function un({dateModeTemplate:e,rangeSeparator:t}){return({value:n,selection:a})=>{const s=j(n,e,t),o=s.length===2&&s.every(p=>se(p,e)),[r,i]=a,u=r>=n.length,l=r===0&&i>=n.length;if(!(u||l)||!o)return{value:n,selection:a};const[c,d]=s.map(p=>oe(O(p,e)));return{selection:a,value:c>d?s.reverse().join(t):n}}}function ln({mode:e,min:t,max:n,minLength:a,maxLength:s,dateSeparator:o=".",rangeSeparator:r=`${fe}${je}${fe}`}){const i=e.split("/").join(o),u=Array.from(i).map(l=>l===o?l:/\d/);return Object.assign(Object.assign({},Y),{mask:[...u,...Array.from(r),...u],overwriteMode:"replace",preprocessors:[He(),en({dateModeTemplate:i,dateSegmentSeparator:o,firstDateEndSeparator:r,pseudoFirstDateEndSeparators:on}),Ye(),$e({dateModeTemplate:i,rangeSeparator:r,dateSegmentsSeparator:o}),qe({dateModeTemplate:i,rangeSeparator:r,dateSegmentsSeparator:o})],postprocessors:[Le({dateModeTemplate:i,dateSegmentSeparator:o,splitFn:l=>({dateStrings:j(l,i,r)}),uniteFn:(l,c)=>l.reduce((d,p,f)=>d+p+(!f&&c.includes(r)?r:""),"")}),We({min:t,max:n,dateModeTemplate:i,rangeSeparator:r,dateSegmentSeparator:o}),rn({dateModeTemplate:i,minLength:a,maxLength:s,max:n,rangeSeparator:r}),un({dateModeTemplate:i,rangeSeparator:r})]})}new RegExp(`[${zt.map(Fe).join("")}]$`);const ye=typeof window<"u"?h.useLayoutEffect:h.useEffect;function cn(e){return e&&typeof e=="object"&&"then"in e}const W=({options:e=null,elementPredicate:t=It}={})=>{const[n,a]=h.useState(null),[s,o]=h.useState(null),r=h.useCallback(u=>{a(u)},[]),i=h.useRef(t);return i.current=t,ye(()=>{if(!n)return;const u=t,l=u(n);cn(l)?l.then(c=>{i.current===u&&o(c)}):o(l)},[n,t,i]),ye(()=>{if(!s||!e)return;const u=new $t(s,e);return()=>{u.destroy()}},[e,s]),r},dn=C.div.withConfig({displayName:"MonthNavigationPanelWidget__MonthNavigationPanelWrapper",componentId:"sc-a9d285bb-0"})(["box-sizing:border-box;width:","PX;height:32px;padding:0 12px;display:flex;justify-content:space-between;background-color:",";"],ut,e=>e.theme.color["Special/Elevated BG"]),pn=C.div.withConfig({displayName:"MonthNavigationPanelWidget__MonthYearWrapper",componentId:"sc-a9d285bb-1"})(["display:flex;"]),mn=C.div.withConfig({displayName:"MonthNavigationPanelWidget__TextWrapper",componentId:"sc-a9d285bb-2"})(["padding:4px 8px;border-radius:16px;cursor:pointer;color:",";"," background-color:",";&:hover{background-color:",";}"],e=>e.theme.color["Primary/Primary 60 Main"],Je["Subtitle/Subtitle 2"],e=>e.$isActive?e.theme.color["Opacity/Focus"]:e.theme.color["Special/Elevated BG"],e=>e.theme.color["Opacity/Hover"]),ve=we(at),De=we(mn),J=({viewMode:e,date:t,locale:n=_e,prevButtonProps:a,nextButtonProps:s,...o})=>{const r=(t==null?void 0:t.locale(n.localeName))||be((n==null?void 0:n.localeName)||"ru");return m.jsxs(dn,{...o,children:[m.jsx(ve,{dimension:"lSmall",highlightFocus:!1,"data-panel-target-type":"left",renderContent:()=>e==="dates"?n==null?void 0:n.localeText.previousMonthText:n==null?void 0:n.localeText.backwardText,...a,children:m.jsx(st,{})}),m.jsxs(pn,{...o,children:[m.jsx(De,{"data-panel-target-type":"month",$isActive:e==="months",renderContent:()=>e==="months"?n==null?void 0:n.localeText.returnText:n.localeText.selectMonthText,children:rt(r.format("MMMM"))}),m.jsx(De,{"data-panel-target-type":"year",$isActive:e==="years",renderContent:()=>e==="years"?n==null?void 0:n.localeText.returnText:n.localeText.selectYearText,children:r.year()})]}),m.jsx(ve,{dimension:"lSmall",highlightFocus:!1,"data-panel-target-type":"right",renderContent:()=>e==="dates"?n==null?void 0:n.localeText.nextMonthText:n==null?void 0:n.localeText.forwardText,...s,children:m.jsx(ot,{})})]})};try{J.displayName="MonthNavigationPanelWidget",J.__docgenInfo={description:"",displayName:"MonthNavigationPanelWidget",props:{viewMode:{defaultValue:null,description:"",name:"viewMode",required:!1,type:{name:"enum",value:[{value:'"dates"'},{value:'"months"'},{value:'"years"'}]}},date:{defaultValue:null,description:"Дата",name:"date",required:!1,type:{name:"Dayjs"}},locale:{defaultValue:{value:`{
  localeName: 'ru',
  localeText: {
    backwardText: 'Назад',
    forwardText: 'Вперед',
    nextMonthText: 'Следующий месяц',
    previousMonthText: 'Предыдущий месяц',
    returnText: 'Вернуться',
    selectYearText: 'Выбор года',
    selectMonthText: 'Выбор месяца',
  },
}`},description:"",name:"locale",required:!1,type:{name:"CalendarLocaleProps"}},prevButtonProps:{defaultValue:null,description:"",name:"prevButtonProps",required:!1,type:{name:"ArrowButtonProps"}},nextButtonProps:{defaultValue:null,description:"",name:"nextButtonProps",required:!1,type:{name:"ArrowButtonProps"}}}}}catch{}const Q=({viewModeValue:e,defaultViewModeValue:t,onViewModeChange:n,dateValue:a,defaultDateValue:s,onDateValueChange:o,selectedDateValue:r,defaultSelectedDateValue:i,onSelectedDateValueChange:u,cell:l,locale:c=_e,prevButtonProps:d,nextButtonProps:p,className:f,style:v,...E})=>{const[w,g]=h.useState(t||"dates"),y=e||w,D=S=>{g(S),n==null||n(S)},[I,A]=h.useState(s||be(c==null?void 0:c.localeName)),x=a||I,b=S=>{A(S),o==null||o(S)},[V,F]=h.useState(i),k=r||V,Ge=S=>{F(S),u==null||u(S)},Ue=S=>{Ge(S)},Ke=S=>{const L=x.month(S.month());b(L),D("dates")},Ze=S=>{const L=x.year(S.year());b(L),D("dates")},Xe=S=>{switch(S.target.dataset.panelTargetType){case"left":b(y==="dates"?x.subtract(1,"month"):y==="months"?x.subtract(1,"year"):x.subtract(ue,"year"));break;case"right":b(y==="dates"?x.add(1,"month"):y==="months"?x.add(1,"year"):x.add(ue,"year"));break;case"month":D(y==="months"?"dates":"months");break;case"year":D(y==="years"?"dates":"years");break}};return m.jsxs(it,{className:f,style:v,children:[m.jsx(J,{date:x,viewMode:y,locale:c,onClick:Xe,prevButtonProps:d,nextButtonProps:p}),m.jsxs(lt,{children:[m.jsx(ct,{...E,cell:l==null?void 0:l.dateCell,dateValue:x,selectedDateValue:k,onSelectedDateValueChange:Ue,locale:c,$isVisible:y==="dates"}),m.jsx(dt,{...E,cell:l==null?void 0:l.monthCell,dateValue:re(x.startOf("month")),selectedDateValue:k,onSelectedDateValueChange:Ke,locale:c,$isVisible:y==="months"}),m.jsx(pt,{...E,cell:l==null?void 0:l.yearCell,dateValue:re(x.startOf("year")),selectedDateValue:k,onSelectedDateValueChange:Ze,locale:c,$isVisible:y==="years"})]})]})};try{Q.displayName="DatePickerCalendar",Q.__docgenInfo={description:"",displayName:"DatePickerCalendar",props:{dateValue:{defaultValue:null,description:"Дата для отображения на экране",name:"dateValue",required:!1,type:{name:"Dayjs"}},defaultDateValue:{defaultValue:null,description:"Дата для отображения на экране по умолчанию",name:"defaultDateValue",required:!1,type:{name:"Dayjs"}},onDateValueChange:{defaultValue:null,description:"Коллбэк на изменение даты отображения на экране",name:"onDateValueChange",required:!1,type:{name:"((date: Dayjs) => void)"}},dateAttributes:{defaultValue:null,description:"Коллбэк на определение аттрибутов даты (disabled, isHoliday, hidden)",name:"dateAttributes",required:!1,type:{name:"((currentDate: Dayjs) => DateAttributes)"}},activeDateValue:{defaultValue:null,description:"Активная дата (hover)",name:"activeDateValue",required:!1,type:{name:"Dayjs"}},defaultActiveDateValue:{defaultValue:null,description:"Активная дата (hover) по умолчанию",name:"defaultActiveDateValue",required:!1,type:{name:"Dayjs"}},onActiveDateValueChange:{defaultValue:null,description:"Коллбэк на изменение активной даты",name:"onActiveDateValueChange",required:!1,type:{name:"((date?: Dayjs) => void)"}},locale:{defaultValue:{value:`{
  localeName: 'ru',
  localeText: {
    backwardText: 'Назад',
    forwardText: 'Вперед',
    nextMonthText: 'Следующий месяц',
    previousMonthText: 'Предыдущий месяц',
    returnText: 'Вернуться',
    selectYearText: 'Выбор года',
    selectMonthText: 'Выбор месяца',
  },
}`},description:"",name:"locale",required:!1,type:{name:"CalendarLocaleProps"}},selectedDateValue:{defaultValue:null,description:"Выбранное значение даты в формате ISO",name:"selectedDateValue",required:!1,type:{name:"Dayjs"}},defaultSelectedDateValue:{defaultValue:null,description:"Выбранное значение даты по умолчанию в формате ISO",name:"defaultSelectedDateValue",required:!1,type:{name:"Dayjs"}},onSelectedDateValueChange:{defaultValue:null,description:"Коллбэк на изменение выбранной даты",name:"onSelectedDateValueChange",required:!1,type:{name:"((date: Dayjs) => void)"}},viewModeValue:{defaultValue:null,description:"Экран выбора дат, месяцев, лет",name:"viewModeValue",required:!1,type:{name:"enum",value:[{value:'"dates"'},{value:'"months"'},{value:'"years"'}]}},defaultViewModeValue:{defaultValue:null,description:"Режим отображения по умолчанию",name:"defaultViewModeValue",required:!1,type:{name:"enum",value:[{value:'"dates"'},{value:'"months"'},{value:'"years"'}]}},onViewModeChange:{defaultValue:null,description:"Коллбэк на переключение экрана",name:"onViewModeChange",required:!1,type:{name:"((mode: CalendarViewMode) => void)"}},cell:{defaultValue:null,description:"Кастомное отображение ячеек",name:"cell",required:!1,type:{name:"СellProps"}},prevButtonProps:{defaultValue:null,description:'Параметры для кнопки панели "Назад"',name:"prevButtonProps",required:!1,type:{name:"ArrowButtonProps"}},nextButtonProps:{defaultValue:null,description:'Параметры для кнопки панели "Вперед"',name:"nextButtonProps",required:!1,type:{name:"ArrowButtonProps"}}}}}catch{}const ee=C.div.withConfig({displayName:"InputBox__FocusBox",componentId:"sc-436fbace-0"})(["display:inline-flex;overflow:hidden;flex-wrap:nowrap;flex-direction:row;align-items:stretch;height:40px;padding:0;padding-inline-start:16px;padding-inline-end:16px;& *{"," line-height:40px;}&[data-size='xl']{height:56px;& *{line-height:56px;}}&[data-size='s']{height:32px;padding-inline-start:12px;padding-inline-end:12px;& *{"," line-height:32px;}}box-sizing:border-box;border-radius:4px;background:transparent;transform:translate3d(0,0,0);box-shadow:0px 0px 0px 1px "," inset;&:hover:not(:focus-within){box-shadow:0px 0px 0px 1px "," inset;}&:focus-within{box-shadow:0px 0px 0px 2px "," inset;}transition:box-shadow 0.3s ease-in-out;"],e=>e.theme.typography["Body/Body 1 Long"],e=>e.theme.typography["Body/Body 2 Long"],e=>e.theme.color["Neutral/Neutral 40"],e=>e.theme.color["Neutral/Neutral 60"],e=>e.theme.color["Primary/Primary 60 Main"]),R=ee;try{ee.displayName="FocusBox",ee.__docgenInfo={description:"",displayName:"FocusBox",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}}}catch{}try{R.displayName="InputBox",R.__docgenInfo={description:"",displayName:"InputBox",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}}}catch{}const te=C.input.withConfig({displayName:"InputLine__StyledInputLine",componentId:"sc-e976c1e1-0"})(["border:none;outline:none;appearance:none;background-image:none;background-color:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;text-overflow:ellipsis;padding:0;color:",";::placeholder{color:",";}"],e=>e.theme.color["Neutral/Neutral 90"],e=>e.theme.color["Neutral/Neutral 50"]),ze=C.span.withConfig({displayName:"InputLine__Visible",componentId:"sc-e976c1e1-1"})(["color:",";transition:color 0.3s ease-in-out;"],e=>e.theme.color["Neutral/Neutral 10"]),hn=C.span.withConfig({displayName:"InputLine__Invisible",componentId:"sc-e976c1e1-2"})(["color:transparent;"]),fn=C.div.withConfig({displayName:"InputLine__InputLineContainer",componentId:"sc-e976c1e1-3"})(["position:relative;display:inline-block;&:focus-within ","{color:",";}"],ze,e=>e.theme.color["Neutral/Neutral 50"]),gn=C.div.withConfig({displayName:"InputLine__MaskBox",componentId:"sc-e976c1e1-4"})(["position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;"]),T=h.forwardRef((e,t)=>{const{className:n,dataPlaceholder:a,...s}=e,o={className:n},r=e.placeholder,i=h.useRef(null),u=h.useRef(null),l=h.useRef(null);return h.useEffect(()=>{const c=i.current,d=u.current,p=l.current;function f(){const{value:v}=this,E=v.length;d&&p&&(typeof r=="string"&&r.length>0&&v.length==0?(p.innerHTML="",d.innerHTML=""):(d.innerHTML=v,p.innerHTML=(a==null?void 0:a.substring(E))||""))}if(typeof a=="string"&&c&&d&&p)return f.apply(c),c.addEventListener("input",f),()=>c.removeEventListener("input",f)},[a,r,s.value,s.defaultValue]),m.jsxs(fn,{...o,children:[m.jsx(te,{ref:Ce(t,i),...s}),m.jsxs(gn,{children:[m.jsx(hn,{ref:u}),m.jsx(ze,{ref:l})]})]})});try{te.displayName="StyledInputLine",te.__docgenInfo={description:"",displayName:"StyledInputLine",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}}}catch{}try{T.displayName="InputLine",T.__docgenInfo={description:"",displayName:"InputLine",props:{dataPlaceholder:{defaultValue:null,description:"",name:"dataPlaceholder",required:!1,type:{name:"string"}}}}}catch{}function ne({icon:e,...t}){const n=e;return m.jsx(n,{...t})}const N=C(ne).withConfig({displayName:"InputIconButton",componentId:"sc-9818fd62-0"})(["width:24px;[data-size='s'] &{width:20px;}& *[fill^='#']{fill:var(--admiral-color-Neutral_Neutral50,",");}[disabled] &&&{pointer-events:none;& *[fill^='#']{fill:var(--admiral-color-Neutral_Neutral30,",");}}&:hover{cursor:pointer;}&:hover *[fill^='#']{fill:var(--admiral-color-Primary_Primary70,",");}"],e=>e.theme.color["Neutral/Neutral 50"],e=>e.theme.color["Neutral/Neutral 30"],e=>e.theme.color["Primary/Primary 70"]);try{ne.displayName="AnyIcon",ne.__docgenInfo={description:"",displayName:"AnyIcon",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"FunctionComponent<SVGProps<SVGSVGElement>>"}}}}}catch{}try{N.displayName="InputIconButton",N.__docgenInfo={description:"",displayName:"InputIconButton",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}}}catch{}const U=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",focusable:!1,...e},h.createElement("defs",null,h.createElement("clipPath",{id:"Calendar_Outline_svg__a"},h.createElement("path",{fill:"#fff",fillOpacity:0,d:"M0 0h24v24H0z"}))),h.createElement("g",{clipPath:"url(#Calendar_Outline_svg__a)"},h.createElement("path",{fill:"#717681",fillRule:"evenodd",d:"M8.14 1.94c.35 0 .65.3.65.65v1.39h2.56V2.59c0-.35.29-.65.65-.65.35 0 .64.3.64.65v1.39h2.56V2.59c0-.35.29-.65.65-.65.35 0 .65.3.65.65v1.39h.5c1.64 0 3 1.34 3 3v10.13c0 1.67-1.34 3-3 3H7c-1.67 0-3-1.33-3-3V6.98c0-1.66 1.33-3 3-3h.48V2.59c0-.35.3-.65.66-.65m-.66 4.91V5.28H7c-.94 0-1.71.76-1.71 1.7v2.36H18.7V6.98c0-.94-.77-1.7-1.7-1.7h-.5v1.57c0 .36-.3.65-.65.65-.36 0-.65-.29-.65-.65V5.28h-2.56v1.57c0 .36-.29.65-.64.65-.36 0-.65-.29-.65-.65V5.28H8.79v1.57a.655.655 0 0 1-1.31 0m11.22 3.8H5.29v6.46c0 .94.77 1.7 1.71 1.7h10c.93 0 1.7-.76 1.7-1.7zM7.52 13.99c0-.74.61-1.34 1.35-1.34h2.33c.74 0 1.34.6 1.34 1.34v1.32c0 .75-.6 1.36-1.34 1.36H8.87c-.74 0-1.35-.61-1.35-1.36zm1.32-.03c-.01.01-.01.02-.01.03v1.32c0 .02 0 .03.01.04s.02.01.03.01h2.33c.01 0 .02 0 .03-.01s.02-.02.02-.04v-1.32c0-.01-.01-.02-.02-.03s-.02-.01-.03-.01H8.87c-.01 0-.02 0-.03.01"}))),ae=Ae;try{ae.displayName="PopoverPanel",ae.__docgenInfo={description:"",displayName:"PopoverPanel",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}}}catch{}const K=sn({mode:"dd/mm/yyyy"}),yn=ln({mode:"dd/mm/yyyy"}),vn=C(Q).withConfig({displayName:"DatePickerSimple.template__Calendar",componentId:"sc-46c3d989-0"})(["border:none;box-shadow:none;"]),Dn=()=>{const[e,t]=h.useState("11."),n=h.useRef(null),[a,s]=h.useState(!1),o=W({options:K}),r=W({options:yn}),i=W({options:K}),u=W({options:K}),l=p=>{p.preventDefault(),s(f=>!f)},c=p=>{console.log(p.format("DD.MM.YYYY")),t(p.format("DD.MM.YYYY"))},d=p=>{var f;p.target&&((f=n.current)!=null&&f.contains(p.target))||s(!1)};return m.jsxs(mt,{children:[m.jsxs(ie,{children:[m.jsxs(R,{ref:n,children:[m.jsx(T,{ref:o,value:e,onChange:p=>t(p.target.value),placeholder:"Введите дату",dataPlaceholder:"дд.мм.гггг"}),m.jsx(N,{icon:U,onMouseDown:l})]}),a&&m.jsx(ae,{targetElement:n.current,alignSelf:"auto",onClickOutside:d,children:m.jsx(vn,{selectedDateValue:vt(e,"DD.MM.YYYY"),onSelectedDateValueChange:c})}),m.jsxs(R,{"data-size":"xl",children:[m.jsx(T,{ref:r,dataPlaceholder:"дд.мм.гггг - дд.мм.гггг"}),m.jsx(N,{icon:U})]}),m.jsxs(R,{"data-size":"s",children:[m.jsx(T,{ref:i,placeholder:"дд.мм.гггг",style:{width:70}}),m.jsx(Qe,{style:{width:20},children:" – "}),m.jsx(T,{ref:u,placeholder:"дд.мм.гггг"}),m.jsx(N,{icon:U})]})]}),m.jsxs(ie,{children:[m.jsx(le,{font:"Subtitle/Subtitle 2",as:"div",children:"Выбор даты"}),m.jsxs(le,{font:"Body/Body 2 Long",as:"div",children:["Высота календаря постоянна и состоит из шести рядов чисел. Текущий месяц начинается с первого ряда и, если его даты не заходят на шестой ряд, то там ставятся пустые ячейки (Empty).",m.jsx("br",{}),m.jsx("br",{}),"Текущая дата выделяется обводкой в виде черного кружка. Ховер на дате подсвечивается обводкой синего цвета. Выбранная дата отмечается синим кружком.",m.jsx("br",{}),"При ховере на месяце, годе, стрелках вправо/влево появляются тултипы с подсказками.",m.jsx("br",{}),m.jsx("br",{}),"Клик на месяц/год открывает экран выбора месяца/года. Вернуться на экран выбора даты можно выбрав месяц/год, либо нажав на месяц/год в шапке календаря"]})]})]})},xn=`import { maskitoDateOptionsGenerator, maskitoDateRangeOptionsGenerator } from '@maskito/kit';
import { useMaskito } from '@maskito/react';

import { T } from '@admiral-ds/react-ui';
import { Separator } from '@admiral-ds/date-picker';
import { DatePickerCalendar as DatePicker } from '#src/components/DatePickerCalendar';
import { InputBox } from '#src/components/Input/InputBox';
import { InputLine } from '#src/components/Input/InputLine';
import { InputIconButton } from '#src/components/InputIconButton';
//import { Separator } from '#src/components/Input';
import CalendarOutline from '@admiral-ds/icons/build/system/CalendarOutline.svg?react';

import { WrapperHorizontal, WrapperVertical } from '#src/stories/common.tsx';
import { PopoverPanel } from '#src/components/PopoverPanel.js';
import { useRef, useState, type MouseEventHandler } from 'react';
import styled from 'styled-components';
import type { Dayjs } from 'dayjs';
import dayjs from 'dayjs';

const dateOptions = maskitoDateOptionsGenerator({ mode: 'dd/mm/yyyy' });
const dateRangeOptions = maskitoDateRangeOptionsGenerator({ mode: 'dd/mm/yyyy' });

const Calendar = styled(DatePicker)\`
  border: none;
  box-shadow: none;
\`;

export const DatePickerSimpleTemplate = () => {
  const [defaultDateValue, setDefaultDateValue] = useState('11.');
  const inputBoxRef = useRef(null);
  const [isCalendarOpen, setCalendarOpen] = useState<boolean>(false);

  const maskedDateInputRef = useMaskito({ options: dateOptions });
  const maskedDateRangeInputRef = useMaskito({ options: dateRangeOptions });
  const maskedStartDateInputRef = useMaskito({ options: dateOptions });
  const maskedEndDateInputRef = useMaskito({ options: dateOptions });

  const handleInputIconButtonClick: MouseEventHandler<Element> = (e) => {
    e.preventDefault();
    setCalendarOpen((isOpen) => !isOpen);
    // const calendar = document.getElementById('calendar');
    // calendar?.togglePopover();
  };
  const handleSelectedDateValueChange = (date: Dayjs) => {
    console.log(date.format('DD.MM.YYYY'));
    setDefaultDateValue(date.format('DD.MM.YYYY'));
  };
  const handleBlurCalendarContainer = (e: Event) => {
    if (e.target && inputBoxRef.current?.contains(e.target as Node)) {
      return;
    }
    setCalendarOpen(false);
  };
  return (
    <WrapperHorizontal>
      <WrapperVertical>
        <InputBox ref={inputBoxRef}>
          <InputLine
            ref={maskedDateInputRef}
            value={defaultDateValue}
            onChange={(e) => setDefaultDateValue(e.target.value)}
            placeholder="Введите дату"
            dataPlaceholder="дд.мм.гггг"
          />
          <InputIconButton icon={CalendarOutline} onMouseDown={handleInputIconButtonClick} />
        </InputBox>
        {isCalendarOpen && (
          <PopoverPanel
            targetElement={inputBoxRef.current}
            alignSelf="auto"
            onClickOutside={handleBlurCalendarContainer}
          >
            <Calendar
              selectedDateValue={dayjs(defaultDateValue, 'DD.MM.YYYY')}
              onSelectedDateValueChange={handleSelectedDateValueChange}
            />
          </PopoverPanel>
        )}
        <InputBox data-size="xl">
          <InputLine ref={maskedDateRangeInputRef} dataPlaceholder="дд.мм.гггг - дд.мм.гггг" />
          <InputIconButton icon={CalendarOutline} />
        </InputBox>
        <InputBox data-size="s">
          <InputLine ref={maskedStartDateInputRef} placeholder="дд.мм.гггг" style={{ width: 70 }} />
          <Separator style={{ width: 20 }}> – </Separator>
          <InputLine ref={maskedEndDateInputRef} placeholder="дд.мм.гггг" />
          <InputIconButton icon={CalendarOutline} />
        </InputBox>
      </WrapperVertical>

      <WrapperVertical>
        <T font="Subtitle/Subtitle 2" as="div">
          Выбор даты
        </T>
        <T font="Body/Body 2 Long" as="div">
          Высота календаря постоянна и состоит из шести рядов чисел. Текущий месяц начинается с первого ряда и, если его
          даты не заходят на шестой ряд, то там ставятся пустые ячейки (Empty).
          <br />
          <br />
          Текущая дата выделяется обводкой в виде черного кружка. Ховер на дате подсвечивается обводкой синего цвета.
          Выбранная дата отмечается синим кружком.
          <br />
          При ховере на месяце, годе, стрелках вправо/влево появляются тултипы с подсказками.
          <br />
          <br />
          Клик на месяц/год открывает экран выбора месяца/года. Вернуться на экран выбора даты можно выбрав месяц/год,
          либо нажав на месяц/год в шапке календаря
        </T>
      </WrapperVertical>
    </WrapperHorizontal>
  );
};
`,Hn={title:"Admiral-2.1/Date Picker/DatePicker",component:et,parameters:{docs:{source:{language:"tsx"}},design:{type:"figma",url:"https://www.figma.com/file/EGEGZsx8WhdxpmFKu8J41G/Admiral-2.1-UI-Kit?node-id=39%3A53407"}},argTypes:{dateValue:{control:{type:"text"}},defaultDateValue:{control:{type:"text"}},onDateValueChange:{control:!1},locale:{control:!1}}},En=e=>m.jsx(Dn,{...e}),$={render:En,parameters:{docs:{source:{code:xn}}},name:"Выбор даты"};var xe,Ee,Se;$.parameters={...$.parameters,docs:{...(xe=$.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  render: DatePickerCalendarSimpleStory,
  parameters: {
    docs: {
      source: {
        code: DatePickerSimpleTemplateRaw
      }
    }
  },
  name: 'Выбор даты'
}`,...(Se=(Ee=$.parameters)==null?void 0:Ee.docs)==null?void 0:Se.source}}};const Wn=["DatePickerCalendarSimple"];export{$ as DatePickerCalendarSimple,Wn as __namedExportsOrder,Hn as default};
