import{j as u}from"./styled-components.browser.esm-DrTmyIAt.js";import{r as n}from"./index-CDs2tPxN.js";import{N as De,z as q,o as me}from"./index-CaQ8XlvV.js";import{w as _}from"./index-DiSyl4Eb.js";import{v as Ve,x as W,S as H,u as z,D as $}from"./calendarStyle-D5URKbyB.js";import{A as C}from"./index-Be6cgLpj.js";import{W as ge,a as fe,T as Z}from"./common-CDJ8tmOp.js";import"./tslib.es6-CRos2fHm.js";import"./ru-lGojcqRe.js";import"./typography.es-DSm7pTxC.js";import"./index.es-n1eWmiMq.js";import"./index-B-yFm4aN.js";import"./DropdownProvider.es-BaHm9Kb7.js";import"./index-DDgR2ROP.js";import"./index-QWFBIMH2.js";import"./index-BcVcSavK.js";import"./index-Y8ituuGQ.js";import"./index-f_P1f7s3.js";import"./index-7NNlG1Bn.js";import"./index-nA2Ey_1t.js";import"./index-CSAbbKMT.js";const K=({viewModeValue:d,defaultViewModeValue:m,onViewModeChange:i,dateRangeValue:s,defaultDateRangeValue:V,onDateRangeValueChange:g,selectedDateRangeValue:O,defaultSelectedDateRangeValue:E,onSelectedDateRangeValueChange:b,activeDateValue:U,defaultActiveDateValue:I,onActiveDateValueChange:A,cell:r,locale:o=me,prevButtonProps:S,nextButtonProps:k,...f})=>{const[J,Q]=n.useState(m||"months"),c=d||J,j=e=>{Q(e),i==null||i(e)},[X,Y]=n.useState(m||"months"),p=d||X,x=e=>{Y(e),i==null||i(e)},[ee,ue]=n.useState((V==null?void 0:V[0])||De(o==null?void 0:o.localeName)),a=(s==null?void 0:s[0])||ee,y=e=>{ue(e),g==null||g([e,t])},[ae,te]=n.useState((V==null?void 0:V[1])||a.add(1,"year")),t=(s==null?void 0:s[1])||ae,h=e=>{te(e),g==null||g([a,e])};n.useEffect(()=>{q(a,t,"year")&&h(a.add(1,"year"))},[a]),n.useEffect(()=>{q(t,a,"year")&&y(t.subtract(1,"year"))},[t]);const[le,ne]=n.useState(I),P=U||le,M=e=>{ne(e),A==null||A(e)},[re,oe]=n.useState(E),l=O||re,F=e=>{oe(e),b==null||b(e)},[D,de]=n.useState(),w=e=>{de(e)},ie=e=>{const B=a.year(e.year());y(B),j("months")},se=e=>{const B=t.year(e.year());h(B),x("months")},ce=e=>{switch(e.target.dataset.panelTargetType){case"left":y(c==="months"?a.subtract(1,"year"):a.subtract(C,"year"));break;case"right":y(c==="months"?a.add(1,"year"):a.add(C,"year"));break;case"year":j(c==="years"?"months":"years");break}},pe=e=>{switch(e.target.dataset.panelTargetType){case"left":h(p==="months"?t.subtract(1,"year"):t.subtract(C,"year"));break;case"right":h(p==="months"?t.add(1,"year"):t.add(C,"year"));break;case"year":x(p==="years"?"months":"years");break}},T=(()=>{if(!(!D||!l)){if(l[0]&&D.isSame(l[0],"month"))return l[1];if(l[1]&&D.isSame(l[1],"month"))return l[0]}})();return u.jsxs(Ve,{children:[u.jsxs(W,{children:[u.jsx(_,{date:a,viewMode:c,locale:o,onClick:ce,prevButtonProps:S,nextButtonProps:k}),u.jsxs(H,{children:[u.jsx(z,{...f,cell:r==null?void 0:r.monthCell,dateValue:a,selectedDateRangeValue:l,defaultSelectedDateRangeValue:E,onSelectedDateRangeValueChange:F,activeDateRangeEndValue:D,onActiveDateRangeEndValueChange:w,activeDateValue:P,onActiveDateValueChange:M,locale:o,$isVisible:c==="months"}),u.jsx($,{...f,cell:r==null?void 0:r.yearCell,dateValue:a,selectedDateValue:T,onSelectedDateValueChange:ie,locale:o,$isVisible:c==="years"})]})]}),u.jsxs(W,{children:[u.jsx(_,{date:t,viewMode:p,locale:o,onClick:pe,prevButtonProps:S,nextButtonProps:k}),u.jsxs(H,{children:[u.jsx(z,{...f,cell:r==null?void 0:r.monthCell,dateValue:t,selectedDateRangeValue:l,defaultSelectedDateRangeValue:E,onSelectedDateRangeValueChange:F,activeDateRangeEndValue:D,onActiveDateRangeEndValueChange:w,activeDateValue:P,onActiveDateValueChange:M,locale:o,$isVisible:p==="months"}),u.jsx($,{...f,cell:r==null?void 0:r.yearCell,dateValue:t,selectedDateValue:T,onSelectedDateValueChange:se,locale:o,$isVisible:p==="years"})]})]})]})},R=d=>{const m=i=>{const s=i.target.dataset.value;console.log(`click on ${s}`)};return u.jsxs(ge,{children:[u.jsx(K,{...d,onClick:m}),u.jsxs(fe,{children:[u.jsx(Z,{font:"Subtitle/Subtitle 2",as:"div",children:"Выбор диапазона месяцев"}),u.jsxs(Z,{font:"Body/Body 2 Long",as:"div",children:["Части сдвоенного календаря ведут себя независимо, то есть при взаимодействии с одной его частью, вторая не меняется. Первый пункт работает до тех пор, пока левая часть «младше» правой.",u.jsx("br",{}),u.jsx("br",{}),"В случае, когда мы меняем правую часть так, что выбранный в ней год «младше», чем в левой части, то левая часть подстраивается, отображая год, стоящий перед тем, который в правой. И наоборот."]})]})]})};try{R.displayName="MonthRangeDoublePickerCalendarSimpleTemplate",R.__docgenInfo={description:"",displayName:"MonthRangeDoublePickerCalendarSimpleTemplate",props:{locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"CalendarLocaleProps"}},dateAttributes:{defaultValue:null,description:"Коллбэк на определение аттрибутов даты (disabled, isHoliday, hidden)",name:"dateAttributes",required:!1,type:{name:"((currentDate: Dayjs) => DateAttributes)"}},selectedDateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат",name:"selectedDateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs] | undefined"}},defaultSelectedDateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат по умолчанию",name:"defaultSelectedDateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs] | undefined"}},onSelectedDateRangeValueChange:{defaultValue:null,description:"Коллбэк на изменение выбранного диапазона дат",name:"onSelectedDateRangeValueChange",required:!1,type:{name:"((dateRange: [Dayjs, Dayjs]) => void) | undefined"}},activeDateValue:{defaultValue:null,description:"Активная дата (hover)",name:"activeDateValue",required:!1,type:{name:"Dayjs"}},defaultActiveDateValue:{defaultValue:null,description:"Активная дата (hover) по умолчанию",name:"defaultActiveDateValue",required:!1,type:{name:"Dayjs"}},onActiveDateValueChange:{defaultValue:null,description:"Коллбэк на изменение активной даты",name:"onActiveDateValueChange",required:!1,type:{name:"((date?: Dayjs) => void)"}},dateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат",name:"dateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs]"}},defaultDateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат по умолчанию",name:"defaultDateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs] | undefined"}},onDateRangeValueChange:{defaultValue:null,description:"Коллбэк на изменение выбранного диапазона дат",name:"onDateRangeValueChange",required:!1,type:{name:"((dateRange: [Dayjs, Dayjs]) => void) | undefined"}},viewModeValue:{defaultValue:null,description:"Экран выбора дат, месяцев, лет",name:"viewModeValue",required:!1,type:{name:"enum",value:[{value:'"dates"'},{value:'"months"'},{value:'"years"'}]}},defaultViewModeValue:{defaultValue:null,description:"Режим отображения по умолчанию",name:"defaultViewModeValue",required:!1,type:{name:"enum",value:[{value:'"dates"'},{value:'"months"'},{value:'"years"'}]}},onViewModeChange:{defaultValue:null,description:"Коллбэк на переключение экрана",name:"onViewModeChange",required:!1,type:{name:"((mode: CalendarViewMode) => void)"}},cell:{defaultValue:null,description:"Кастомное отображение ячеек",name:"cell",required:!1,type:{name:"СellProps"}},prevButtonProps:{defaultValue:null,description:'Параметры для кнопки панели "Назад"',name:"prevButtonProps",required:!1,type:{name:"ArrowButtonProps"}},nextButtonProps:{defaultValue:null,description:'Параметры для кнопки панели "Вперед"',name:"nextButtonProps",required:!1,type:{name:"ArrowButtonProps"}}}}}catch{}const ye=`import type { MouseEventHandler } from 'react';

import { T } from '@admiral-ds/react-ui';
import type { MonthRangeDoublePickerCalendarProps } from '@admiral-ds/date-picker';
import { MonthRangeDoublePickerCalendar } from '@admiral-ds/date-picker';

import { WrapperHorizontal, WrapperVertical } from '#src/stories/common.tsx';

export const MonthRangeDoublePickerCalendarSimpleTemplate = (props: MonthRangeDoublePickerCalendarProps) => {
  const handleClick: MouseEventHandler<HTMLDivElement> = (e) => {
    const clickedCell = (e.target as HTMLDivElement).dataset.value;
    console.log(\`click on \${clickedCell}\`);
  };

  return (
    <WrapperHorizontal>
      <MonthRangeDoublePickerCalendar
        {...props}
        onClick={handleClick}
        //defaultSelectedDateRangeValue={['2023-10-01T12:00:00Z', '2024-07-01T12:00:00Z']}
      />
      <WrapperVertical>
        <T font="Subtitle/Subtitle 2" as="div">
          Выбор диапазона месяцев
        </T>
        <T font="Body/Body 2 Long" as="div">
          Части сдвоенного календаря ведут себя независимо, то есть при взаимодействии с одной его частью, вторая не
          меняется. Первый пункт работает до тех пор, пока левая часть «младше» правой.
          <br />
          <br />В случае, когда мы меняем правую часть так, что выбранный в ней год «младше», чем в левой части, то
          левая часть подстраивается, отображая год, стоящий перед тем, который в правой. И наоборот.
        </T>
      </WrapperVertical>
    </WrapperHorizontal>
  );
};
`,$e={title:"Admiral-2.1/Double Range Picker/MonthRangeDoublePickerCalendar",component:K,parameters:{docs:{source:{code:null}},design:{type:"figma",url:"https://www.figma.com/file/EGEGZsx8WhdxpmFKu8J41G/Admiral-2.1-UI-Kit?node-id=39%3A53407"}},argTypes:{locale:{control:!1}}},he=d=>u.jsx(R,{...d}),v={render:he,parameters:{docs:{source:{code:ye}}},name:"Сдвоенный календарь выбора месяцев"};var G,L,N;v.parameters={...v.parameters,docs:{...(G=v.parameters)==null?void 0:G.docs,source:{originalSource:`{
  render: MonthRangeDoublePickerCalendarSimpleStory,
  parameters: {
    docs: {
      source: {
        code: MonthRangeDoublePickerCalendarSimpleTemplateRaw
      }
    }
  },
  name: 'Сдвоенный календарь выбора месяцев'
}`,...(N=(L=v.parameters)==null?void 0:L.docs)==null?void 0:N.source}}};const Ze=["MonthRangeDoublePickerCalendarSimple"];export{v as MonthRangeDoublePickerCalendarSimple,Ze as __namedExportsOrder,$e as default};
