import{j as u}from"./styled-components.browser.esm-DrTmyIAt.js";import{r as s}from"./index-CDs2tPxN.js";import{N as ge,z as M,o as fe}from"./index-CaQ8XlvV.js";import{k as _}from"./index-BBtkqL62.js";import{v as he,x as W,S as H,V as L,R as z,D as Z}from"./calendarStyle-D5URKbyB.js";import{A as B}from"./index-Be6cgLpj.js";import{W as ye,a as Ce,T as G}from"./common-CDJ8tmOp.js";import"./tslib.es6-CRos2fHm.js";import"./ru-lGojcqRe.js";import"./typography.es-DSm7pTxC.js";import"./index.es-n1eWmiMq.js";import"./index-B-yFm4aN.js";import"./DropdownProvider.es-BaHm9Kb7.js";import"./index-DDgR2ROP.js";import"./index-QWFBIMH2.js";import"./index-BcVcSavK.js";import"./index-Y8ituuGQ.js";import"./index-f_P1f7s3.js";import"./index-7NNlG1Bn.js";import"./index-nA2Ey_1t.js";import"./index-CSAbbKMT.js";const I=({viewModeValue:i,defaultViewModeValue:h,onViewModeChange:D,dateRangeValue:m,defaultDateRangeValue:y,onDateRangeValueChange:C,selectedDateRangeValue:J,defaultSelectedDateRangeValue:j,onSelectedDateRangeValueChange:S,activeDateValue:O,defaultActiveDateValue:X,onActiveDateValueChange:x,cell:l,locale:n=fe,prevButtonProps:k,nextButtonProps:P,...p})=>{const[Y,Q]=s.useState(h||"dates"),r=i||Y,E=e=>{Q(e),D==null||D(e)},[$,ee]=s.useState(h||"dates"),o=i||$,v=e=>{ee(e),D==null||D(e)},[ue,ae]=s.useState((y==null?void 0:y[0])||ge(n==null?void 0:n.localeName)),a=(m==null?void 0:m[0])||ue,V=e=>{ae(e),C==null||C([e,t])},[te,le]=s.useState((y==null?void 0:y[1])||a.add(1,"month")),t=(m==null?void 0:m[1])||te,g=e=>{le(e),C==null||C([a,e])};s.useEffect(()=>{M(a,t,"month")&&g(a.add(1,"month"))},[a]),s.useEffect(()=>{M(t,a,"month")&&V(t.subtract(1,"month"))},[t]);const[ne,re]=s.useState(X),F=O||ne,w=e=>{re(e),x==null||x(e)},[oe,de]=s.useState(j),d=J||oe,T=e=>{de(e),S==null||S(e)},[f,se]=s.useState(),q=e=>{se(e)},ie=e=>{const c=a.month(e.month());V(c),E("dates")},ce=e=>{const c=t.month(e.month());g(c),v("dates")},De=e=>{const c=a.year(e.year());V(c),E("months")},me=e=>{const c=t.year(e.year());g(c),v("months")},pe=e=>{switch(e.target.dataset.panelTargetType){case"left":V(r==="dates"?a.subtract(1,"month"):r==="months"?a.subtract(1,"year"):a.subtract(B,"year"));break;case"right":V(r==="dates"?a.add(1,"month"):r==="months"?a.add(1,"year"):a.add(B,"year"));break;case"month":E(r==="months"?"dates":"months");break;case"year":E(r==="years"?"dates":"years");break}},Ve=e=>{switch(e.target.dataset.panelTargetType){case"left":g(o==="dates"?t.subtract(1,"month"):o==="months"?t.subtract(1,"year"):t.subtract(B,"year"));break;case"right":g(o==="dates"?t.add(1,"month"):o==="months"?t.add(1,"year"):t.add(B,"year"));break;case"month":v(o==="months"?"dates":"months");break;case"year":v(o==="years"?"dates":"years");break}},R=(()=>{if(!(!f||!d)){if(d[0]&&f.isSame(d[0],"date"))return d[1];if(d[1]&&f.isSame(d[1],"date"))return d[0]}})();return u.jsxs(he,{children:[u.jsxs(W,{children:[u.jsx(_,{date:a,viewMode:r,locale:n,onClick:pe,prevButtonProps:k,nextButtonProps:P}),u.jsxs(H,{children:[u.jsx(L,{...p,cell:l==null?void 0:l.dateCell,dateValue:a,selectedDateRangeValue:d,defaultSelectedDateRangeValue:j,onSelectedDateRangeValueChange:T,activeDateRangeEndValue:f,onActiveDateRangeEndValueChange:q,activeDateValue:F,onActiveDateValueChange:w,locale:n,$isVisible:r==="dates"}),u.jsx(z,{...p,cell:l==null?void 0:l.monthCell,dateValue:a,selectedDateValue:R,onSelectedDateValueChange:ie,locale:n,$isVisible:r==="months"}),u.jsx(Z,{...p,cell:l==null?void 0:l.yearCell,dateValue:a,selectedDateValue:R,onSelectedDateValueChange:De,locale:n,$isVisible:r==="years"})]})]}),u.jsxs(W,{children:[u.jsx(_,{date:t,viewMode:o,locale:n,onClick:Ve,prevButtonProps:k,nextButtonProps:P}),u.jsxs(H,{children:[u.jsx(L,{...p,cell:l==null?void 0:l.dateCell,dateValue:t,selectedDateRangeValue:d,defaultSelectedDateRangeValue:j,onSelectedDateRangeValueChange:T,activeDateRangeEndValue:f,onActiveDateRangeEndValueChange:q,activeDateValue:F,onActiveDateValueChange:w,locale:n,$isVisible:o==="dates"}),u.jsx(z,{...p,cell:l==null?void 0:l.monthCell,dateValue:a,selectedDateValue:R,onSelectedDateValueChange:ce,locale:n,$isVisible:o==="months"}),u.jsx(Z,{...p,cell:l==null?void 0:l.yearCell,dateValue:t,selectedDateValue:R,onSelectedDateValueChange:me,locale:n,$isVisible:o==="years"})]})]})]})},A=i=>{const h=D=>{const m=D.target.dataset.value;console.log(`click on ${m}`)};return u.jsxs(ye,{children:[u.jsx(I,{...i,onClick:h}),u.jsxs(Ce,{children:[u.jsx(G,{font:"Subtitle/Subtitle 2",as:"div",children:"Выбор диапазона дат"}),u.jsxs(G,{font:"Body/Body 2 Long",as:"div",children:["Части сдвоенного календаря ведут себя независимо, то есть при взаимодействии с одной его частью, вторая не меняется. Первый пункт работает до тех пор, пока левая часть «младше» правой.",u.jsx("br",{}),u.jsx("br",{}),"В случае, когда мы меняем правую часть так, что выбранный в ней месяц года «младше», чем в левой части, то левая часть подстраивается, отображая месяц стоящий перед тем, который в правой. И наоборот."]})]})]})};try{A.displayName="DateRangeDoublePickerCalendarSimpleTemplate",A.__docgenInfo={description:"",displayName:"DateRangeDoublePickerCalendarSimpleTemplate",props:{locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"CalendarLocaleProps"}},dateAttributes:{defaultValue:null,description:"Коллбэк на определение аттрибутов даты (disabled, isHoliday, hidden)",name:"dateAttributes",required:!1,type:{name:"((currentDate: Dayjs) => DateAttributes)"}},selectedDateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат",name:"selectedDateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs] | undefined"}},defaultSelectedDateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат по умолчанию",name:"defaultSelectedDateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs] | undefined"}},onSelectedDateRangeValueChange:{defaultValue:null,description:"Коллбэк на изменение выбранного диапазона дат",name:"onSelectedDateRangeValueChange",required:!1,type:{name:"((dateRange: [Dayjs, Dayjs]) => void) | undefined"}},activeDateValue:{defaultValue:null,description:"Активная дата (hover)",name:"activeDateValue",required:!1,type:{name:"Dayjs"}},defaultActiveDateValue:{defaultValue:null,description:"Активная дата (hover) по умолчанию",name:"defaultActiveDateValue",required:!1,type:{name:"Dayjs"}},onActiveDateValueChange:{defaultValue:null,description:"Коллбэк на изменение активной даты",name:"onActiveDateValueChange",required:!1,type:{name:"((date?: Dayjs) => void)"}},dateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат",name:"dateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs]"}},defaultDateRangeValue:{defaultValue:null,description:"Выбранное значение диапазона дат по умолчанию",name:"defaultDateRangeValue",required:!1,type:{name:"[Dayjs, Dayjs] | undefined"}},onDateRangeValueChange:{defaultValue:null,description:"Коллбэк на изменение выбранного диапазона дат",name:"onDateRangeValueChange",required:!1,type:{name:"((dateRange: [Dayjs, Dayjs]) => void) | undefined"}},viewModeValue:{defaultValue:null,description:"Экран выбора дат, месяцев, лет",name:"viewModeValue",required:!1,type:{name:"enum",value:[{value:'"dates"'},{value:'"months"'},{value:'"years"'}]}},defaultViewModeValue:{defaultValue:null,description:"Режим отображения по умолчанию",name:"defaultViewModeValue",required:!1,type:{name:"enum",value:[{value:'"dates"'},{value:'"months"'},{value:'"years"'}]}},onViewModeChange:{defaultValue:null,description:"Коллбэк на переключение экрана",name:"onViewModeChange",required:!1,type:{name:"((mode: CalendarViewMode) => void)"}},cell:{defaultValue:null,description:"Кастомное отображение ячеек",name:"cell",required:!1,type:{name:"СellProps"}},prevButtonProps:{defaultValue:null,description:'Параметры для кнопки панели "Назад"',name:"prevButtonProps",required:!1,type:{name:"ArrowButtonProps"}},nextButtonProps:{defaultValue:null,description:'Параметры для кнопки панели "Вперед"',name:"nextButtonProps",required:!1,type:{name:"ArrowButtonProps"}}}}}catch{}const Ee=`import type { MouseEventHandler } from 'react';

import { T } from '@admiral-ds/react-ui';
import type { DateRangeDoublePickerCalendarProps } from '@admiral-ds/date-picker';
import { DateRangeDoublePickerCalendar } from '@admiral-ds/date-picker';

import { WrapperHorizontal, WrapperVertical } from '#src/stories/common.tsx';

export const DateRangeDoublePickerCalendarSimpleTemplate = (props: DateRangeDoublePickerCalendarProps) => {
  const handleClick: MouseEventHandler<HTMLDivElement> = (e) => {
    const clickedCell = (e.target as HTMLDivElement).dataset.value;
    console.log(\`click on \${clickedCell}\`);
  };

  return (
    <WrapperHorizontal>
      <DateRangeDoublePickerCalendar
        {...props}
        onClick={handleClick}
        //defaultSelectedDateRangeValue={['2023-10-01T12:00:00Z', '2024-07-01T12:00:00Z']}
      />
      <WrapperVertical>
        <T font="Subtitle/Subtitle 2" as="div">
          Выбор диапазона дат
        </T>
        <T font="Body/Body 2 Long" as="div">
          Части сдвоенного календаря ведут себя независимо, то есть при взаимодействии с одной его частью, вторая не
          меняется. Первый пункт работает до тех пор, пока левая часть «младше» правой.
          <br />
          <br />В случае, когда мы меняем правую часть так, что выбранный в ней месяц года «младше», чем в левой части,
          то левая часть подстраивается, отображая месяц стоящий перед тем, который в правой. И наоборот.
        </T>
      </WrapperVertical>
    </WrapperHorizontal>
  );
};
`,Ne={title:"Admiral-2.1/Double Range Picker/DateRangeDoublePickerCalendar",component:I,parameters:{docs:{source:{code:null}},design:{type:"figma",url:"https://www.figma.com/file/EGEGZsx8WhdxpmFKu8J41G/Admiral-2.1-UI-Kit?node-id=39%3A53407"}},argTypes:{locale:{control:!1}}},ve=i=>u.jsx(A,{...i}),b={render:ve,parameters:{docs:{source:{code:Ee}}},name:"Сдвоенный календарь выбора дат"};var N,K,U;b.parameters={...b.parameters,docs:{...(N=b.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: DateRangeDoublePickerCalendarSimpleStory,
  parameters: {
    docs: {
      source: {
        code: DateRangeDoublePickerCalendarSimpleTemplateRaw
      }
    }
  },
  name: 'Сдвоенный календарь выбора дат'
}`,...(U=(K=b.parameters)==null?void 0:K.docs)==null?void 0:U.source}}};const Ke=["DateRangeDoublePickerCalendarSimple"];export{b as DateRangeDoublePickerCalendarSimple,Ke as __namedExportsOrder,Ne as default};
